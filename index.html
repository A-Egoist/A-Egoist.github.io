<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>A-Egoist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="树深时见鹿, 溪午不闻钟。">
<meta property="og:type" content="website">
<meta property="og:title" content="A-Egoist">
<meta property="og:url" content="http://a-egoist.com/index.html">
<meta property="og:site_name" content="A-Egoist">
<meta property="og:description" content="树深时见鹿, 溪午不闻钟。">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Amonologue">
<meta property="article:tag" content="算法，美化，日常，随笔">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="A-Egoist" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">A-Egoist</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://a-egoist.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-算法竞赛进阶指南学习笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/b68f41a0/" class="article-date">
  <time datetime="2021-11-19T10:15:29.253Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/b68f41a0/">算法竞赛进阶指南学习笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h2><h4 id="原码"><a href="#原码" class="headerlink" title="原码"></a>原码</h4><p>原码就是符号位加上真值的绝对值, 即用第一位表示符号, 其余位表示值. 比如如果是8位二进制:</p>
<p>其中，第一位为1是负数</p>
<blockquote>
<p>[+1] = [0000 0001]原</p>
<p>[-1] = [1000 0001]原</p>
</blockquote>
<p>因此，8位二进制数的取值范围：[-127,127]</p>
<h4 id="补码"><a href="#补码" class="headerlink" title="补码"></a>补码</h4><p>正数的补码是其本身</p>
<p>负数的补码是在其原码的基础上，符号位不变，其余各位取反，最后+1(即在其反码的基础上+1)</p>
<blockquote>
<p>[+1] = [00000001]原 = [00000001]反 = [00000001]补</p>
<p>[-1] = [10000001]原 = [11111110]反 = [11111111]补</p>
</blockquote>
<h4 id="反码"><a href="#反码" class="headerlink" title="反码"></a>反码</h4><p>正数的反码是其本身</p>
<p>负数的反码是在其原码的基础上，符号位不变，其余各个位取反</p>
<blockquote>
<p>[+1] = [00000001]原 = [00000001]反</p>
<p>[-1] = [10000001]原 = [11111110]反</p>
</blockquote>
<h4 id="技巧"><a href="#技巧" class="headerlink" title="技巧"></a>技巧</h4><p><code>memset(a, 0x3f, sizeof(a))</code> 给数组赋值 0x3f3f3f3f</p>
<p>赋值正无穷 INF = 0x3f3f3f3f 或者 INF = 0x3f</p>
<h4 id="移位运算"><a href="#移位运算" class="headerlink" title="移位运算"></a>移位运算</h4><p>左移：n &lt;&lt; x = n*2^x</p>
<p>右移：n &gt;&gt; x = n/2^x  (在C++中右移为算数右移，即移出去的位丢弃，空缺位用“符号位”来填充)</p>
<h4 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h4><h5 id="原理解释："><a href="#原理解释：" class="headerlink" title="原理解释："></a>原理解释：</h5><p><img src="https://img2020.cnblogs.com/blog/1852543/202101/1852543-20210120145456615-1978955513.png"></p>
<h5 id="代码模板："><a href="#代码模板：" class="headerlink" title="代码模板："></a>代码模板：</h5><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">qmi</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> k, <span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">1</span> % p, t = m;</span><br><span class="line">    <span class="keyword">while</span> (k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k&amp;<span class="number">1</span>) res = res * t % p;</span><br><span class="line">        t = t * t % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="例题："><a href="#例题：" class="headerlink" title="例题："></a>例题：</h5><p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/91/">AcWing 89. a^b</a></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a,b,p;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b&gt;&gt;p;</span><br><span class="line">    ll res = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>) res = res * a % p;</span><br><span class="line">        a *= a;</span><br><span class="line">        a %= p;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res % p&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/92/">AcWing 90. 64位整数乘法</a></p>
<p>与快速幂原理相同，将一个乘数分解成二进制来表示，然后再相乘，防止溢出。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    ll a,b,p,res = <span class="number">0</span>;</span><br><span class="line">    cin&gt;&gt;a&gt;&gt;b&gt;&gt;p;</span><br><span class="line">    <span class="keyword">while</span>(b)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)res = (res + a) % p;</span><br><span class="line">        b &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        a = <span class="number">2</span> * a % p;</span><br><span class="line">    &#125;</span><br><span class="line">    cout&lt;&lt;res%p&lt;&lt;endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="递推与递归"><a href="#递推与递归" class="headerlink" title="递推与递归"></a>递推与递归</h2><h5 id="例题"><a href="#例题" class="headerlink" title="例题"></a>例题</h5><p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/94/">AcWing 92. 递归实现指数型枚举</a></p>
<p>位运算解法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    n = <span class="built_in">pow</span>(<span class="number">2</span>, n);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> temp = i, cnt = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (temp)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp &amp; <span class="number">1</span>) cout &lt;&lt; cnt &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">            cnt++;</span><br><span class="line">            temp &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (temp == <span class="number">0</span>) cout &lt;&lt; <span class="string">&quot; &quot;</span> &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">else</span> cout &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>递归解法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF=<span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x == n + <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; res.<span class="built_in">size</span>();i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; res[i] &lt;&lt; <span class="string">&quot; &quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">solve</span>(x + <span class="number">1</span>);</span><br><span class="line">    res.<span class="built_in">push_back</span>(x);</span><br><span class="line">    <span class="built_in">solve</span>(x + <span class="number">1</span>);</span><br><span class="line">    res.<span class="built_in">pop_back</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="built_in">solve</span>(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/95/">AcWing 93. 递归实现组合型枚举</a></p>
<p>需要剪枝</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> m,n;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> cnt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (res.<span class="built_in">size</span>() + n - res.<span class="built_in">back</span>() + <span class="number">1</span> &lt; m) <span class="keyword">return</span> ;</span><br><span class="line">    <span class="keyword">if</span> (cnt == m)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; res.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; res[i] &lt;&lt; <span class="string">&quot; &quot;</span>; </span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[i] == <span class="number">0</span> &amp;&amp; res.<span class="built_in">back</span>() &lt; i)</span><br><span class="line">        &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            vis[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">solve</span>(cnt+<span class="number">1</span>);</span><br><span class="line">            vis[i] = <span class="number">0</span>;</span><br><span class="line">            res.<span class="built_in">pop_back</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    res.<span class="built_in">push_back</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="built_in">solve</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/96/">AcWing 94. 递归实现排列型枚举</a></p>
<p>在上一题的基础上修改一部分代码就行</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">vector&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line"><span class="keyword">bool</span> vis[<span class="number">30</span>];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> cnt)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//if (res.size() + n - res.back() + 1 &lt; n) return ;</span></span><br><span class="line">    <span class="keyword">if</span> (cnt == n)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; res.<span class="built_in">size</span>(); i++)</span><br><span class="line">        &#123;</span><br><span class="line">            cout &lt;&lt; res[i] &lt;&lt; <span class="string">&quot; &quot;</span>; </span><br><span class="line">        &#125;</span><br><span class="line">        cout &lt;&lt; endl;</span><br><span class="line">        <span class="keyword">return</span> ;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[i] == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            vis[i] = <span class="number">1</span>;</span><br><span class="line">            <span class="built_in">solve</span>(cnt+<span class="number">1</span>);</span><br><span class="line">            vis[i] = <span class="number">0</span>;</span><br><span class="line">            res.<span class="built_in">pop_back</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n;</span><br><span class="line">    <span class="comment">//res.push_back(0);</span></span><br><span class="line">    <span class="built_in">solve</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="前缀和与差分"><a href="#前缀和与差分" class="headerlink" title="前缀和与差分"></a>前缀和与差分</h2><p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/101/">AcWing 99. 激光炸弹</a></p>
<p>二维前缀和</p>
<p>根据容斥原理，可以推导出二维前缀和：<code>s[i][j]=s[i][j-1]+s[i-1][j]-s[i-1][j-1]</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> sum[<span class="number">5050</span>][<span class="number">5050</span>];</span><br><span class="line"><span class="keyword">int</span> n,r;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; r;</span><br><span class="line">    <span class="keyword">int</span> x, y, w;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; x &gt;&gt; y &gt;&gt; w;</span><br><span class="line">        x++,y++;</span><br><span class="line">        sum[x][y] += w;<span class="comment">//读数据，位置相同的点权值相加</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= <span class="number">5001</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= <span class="number">5001</span>; j++)</span><br><span class="line">            sum[i][j] += sum[i][j<span class="number">-1</span>] + sum[i<span class="number">-1</span>][j] - sum[i<span class="number">-1</span>][j<span class="number">-1</span>];<span class="comment">//以(0,0)为左下角的矩形求二维前缀和</span></span><br><span class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = r; i &lt;= <span class="number">5001</span>; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = r; j &lt;= <span class="number">5001</span>; j++)</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, sum[i][j] - sum[i][j-r] - sum[i-r][j] + sum[i-r][j-r]);<span class="comment">//因为炸弹影响r*r矩形的范围，根据容斥原理同样可以推导出ans=sum[i][j]-sum[i][j-r]-sum[i-r][j]+sum[i][j]，最后再取一个最大值就行</span></span><br><span class="line">    cout &lt;&lt; ans &lt;&lt;endl;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/103/">AcWing 101. 最高的牛</a></p>
<p>简单的差分题，注意去重</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> d[<span class="number">10005</span>], res[<span class="number">10005</span>];</span><br><span class="line">set&lt;pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; &gt; vis;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, p, h, m, a, b;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; p &gt;&gt; h &gt;&gt; m;</span><br><span class="line">    <span class="keyword">while</span> (m--)</span><br><span class="line">    &#123;</span><br><span class="line">        cin &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        <span class="keyword">int</span> l = <span class="built_in">min</span>(a, b), r = <span class="built_in">max</span>(a, b);</span><br><span class="line">        <span class="keyword">if</span> (vis.<span class="built_in">count</span>(&#123;l, r&#125;)) <span class="keyword">continue</span>;</span><br><span class="line">        vis.<span class="built_in">insert</span>(&#123;l, r&#125;);</span><br><span class="line">        d[l + <span class="number">1</span>] --;</span><br><span class="line">        d[r] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    res[<span class="number">0</span>] = h;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        res[i] = res[i - <span class="number">1</span>] + d[i]; </span><br><span class="line">        cout &lt;&lt; res[i] &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><p><a target="_blank" rel="noopener" href="https://www.acwing.com/problem/content/104/">AcWing 102. 最佳牛围栏</a></p>
<p>二分出平均值，然后再用前缀和找出该平均值条件下的最大子段和，在利用这个最大子段和来确定二分方向</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span> + <span class="number">50</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">int</span> n, f;</span><br><span class="line"><span class="keyword">double</span> s[maxn], a[maxn], l, r, mid, ans, min_value;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cin &gt;&gt; n &gt;&gt; f;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) cin &gt;&gt; a[i];</span><br><span class="line">    l = <span class="number">-3000</span>, r = <span class="number">3000</span>;</span><br><span class="line">    <span class="keyword">while</span> (r - l &gt; eps)</span><br><span class="line">    &#123;</span><br><span class="line">        mid = (l + r) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++) <span class="comment">// 前缀和</span></span><br><span class="line">            s[i] = s[i - <span class="number">1</span>] + a[i] - mid;</span><br><span class="line">        ans = <span class="number">-1e8</span>, min_value = <span class="number">1e8</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = f; i &lt;= n; i++)</span><br><span class="line">        &#123;</span><br><span class="line">            min_value = <span class="built_in">min</span>(min_value, s[i - f]);</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, s[i] - min_value);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ans &gt;= <span class="number">0</span>) l = mid;</span><br><span class="line">        <span class="keyword">else</span> r = mid;</span><br><span class="line">    &#125;</span><br><span class="line">    cout &lt;&lt; (<span class="keyword">int</span>)(r * <span class="number">1000</span>) &lt;&lt; endl;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/b68f41a0/" data-id="ckw68jfm4001xbgidbw2v9znn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-数学知识" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/374e1302/" class="article-date">
  <time datetime="2021-11-19T10:15:29.248Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>►<a class="article-category-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/374e1302/">数学知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="质数"><a href="#质数" class="headerlink" title="质数"></a>质数</h2><h3 id="1-质数的判定——试除法"><a href="#1-质数的判定——试除法" class="headerlink" title="1.质数的判定——试除法"></a>1.质数的判定——试除法</h3><p>$O(n)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt; x; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>性质1：如果 $d|n$ ，那么$\frac{n}{d}|n$</p>
<p>因为一个数的约数是成对出现的，因此在判断约数的时候只需要枚举较小的约数。</p>
<p>$O(\sqrt{n})$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">is_prime</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (x &lt; <span class="number">2</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="2-分解质因数——试除法"><a href="#2-分解质因数——试除法" class="headerlink" title="2.分解质因数——试除法"></a>2.分解质因数——试除法</h3><p>$O(n)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i ++)</span><br><span class="line">    <span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            n /= i;</span><br><span class="line">            s ++;</span><br><span class="line">		&#125;</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>优化：$n$中最多只包含一个大于$\sqrt{n}$的质因子</p>
<p>$O(\sqrt{n})$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n / i; i ++)</span><br><span class="line">    <span class="keyword">if</span> (n % i == <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> s = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (n % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            n /= i;</span><br><span class="line">            s ++;</span><br><span class="line">		&#125;</span><br><span class="line">        cout &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; s &lt;&lt; endl;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="keyword">if</span> (n &gt; <span class="number">1</span>) cout &lt;&lt; n &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; <span class="number">1</span> &lt;&lt; endl;</span><br></pre></td></tr></table></figure>

<h3 id="3-筛法"><a href="#3-筛法" class="headerlink" title="3.筛法"></a>3.筛法</h3><h4 id="埃氏筛-O-n-log-log-n"><a href="#埃氏筛-O-n-log-log-n" class="headerlink" title="埃氏筛 $O(n\log\log{n})$"></a>埃氏筛 $O(n\log\log{n})$</h4><p>质数定理：$[1, n]$ 中有$\frac{n}{\ln{n}}$ 个质数</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> primes[N], cnt;     <span class="comment">// primes[]存储所有素数</span></span><br><span class="line"><span class="keyword">bool</span> vis[N];         <span class="comment">// st[x]存储x是否被筛掉</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_primes</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (vis[i]) <span class="keyword">continue</span>;</span><br><span class="line">        primes[cnt ++ ] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = i + i; j &lt;= n; j += i)</span><br><span class="line">            vis[j] = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="欧拉筛-线性筛-O-n"><a href="#欧拉筛-线性筛-O-n" class="headerlink" title="欧拉筛(线性筛) $O(n)$"></a>欧拉筛(线性筛) $O(n)$</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> primes[N], cnt;     <span class="comment">// primes[]存储所有素数</span></span><br><span class="line"><span class="keyword">bool</span> vis[N];         <span class="comment">// st[x]存储x是否被筛掉</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_primes</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!vis[i]) primes[cnt ++ ] = i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; primes[j] &lt;= n / i; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            vis[primes[j] * i] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % primes[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="约数"><a href="#约数" class="headerlink" title="约数"></a>约数</h2><h3 id="1-试除法求一个数的所有约数"><a href="#1-试除法求一个数的所有约数" class="headerlink" title="1.试除法求一个数的所有约数"></a>1.试除法求一个数的所有约数</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">vector&lt;<span class="keyword">int</span>&gt; <span class="title">get_divisors</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    vector&lt;<span class="keyword">int</span>&gt; res;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res.<span class="built_in">push_back</span>(i);</span><br><span class="line">            <span class="keyword">if</span> (i != x / i) res.<span class="built_in">push_back</span>(x / i);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="built_in">sort</span>(res.<span class="built_in">begin</span>(), res.<span class="built_in">end</span>());</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-约数个数"><a href="#2-约数个数" class="headerlink" title="2.约数个数"></a>2.约数个数</h3><p>若$x = p_{1}^{a_1} * p_{2}^{a_2} * p_{3}^{a_3}… * p_{k}^{a_k}$，则其约数个数为：$n = (a_1 + 1) * (a_2 + 1) * … * (a_k + 1)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="3-约数之和"><a href="#3-约数之和" class="headerlink" title="3.约数之和"></a>3.约数之和</h3><p>若$x = p_{1}^{a_1} * p_{2}^{a_2} * p_{3}^{a_3}… * p_{k}^{a_k}$，则其约束之和为：$sum = (p_1^0 + p_1^2 + … +p_1^{a_1})<em>(p_2^0 + … + p_2^{a_2})</em>…*(p_k^0 + … + p_k^{a_k})$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="4-欧几里得算法-辗转相除法"><a href="#4-欧几里得算法-辗转相除法" class="headerlink" title="4.欧几里得算法(辗转相除法)"></a>4.欧几里得算法(辗转相除法)</h3><p>原理：$gcd(a, b) = gcd(b, a%b)$</p>
<p>证明：$a%b = a - \left \lfloor \frac{a}{b} \right \rfloor * b$， 令$c = \left \lfloor \frac{a}{b} \right \rfloor$，因此$a % b = a - c * b$，即只需要证明$gcd(a, b) == gcd(b, a - c * b)$</p>
<p>①：左式，对于$\forall{d}，有d|a且d|b，则d|(a - c*b)$</p>
<p>②：右式，对于$\forall{d}，有d|b且d|(a-c*b)，则d|b$</p>
<p>因此$gcd(a,b) = gcd(b,a%b)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">gcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">return</span> b ? <span class="built_in">gcd</span>(b, a%b) : a;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="欧拉函数"><a href="#欧拉函数" class="headerlink" title="欧拉函数"></a>欧拉函数</h2><h3 id="欧拉定理"><a href="#欧拉定理" class="headerlink" title="欧拉定理"></a>欧拉定理</h3><h3 id="求欧拉函数"><a href="#求欧拉函数" class="headerlink" title="求欧拉函数"></a>求欧拉函数</h3><h4 id="定义"><a href="#定义" class="headerlink" title="定义"></a>定义</h4><p>$\varphi{(n)}$表示在$[1,n-1]$中与n互质的数的个数(互质：$gcd(a, b) = 1$)</p>
<h4 id="求法"><a href="#求法" class="headerlink" title="求法"></a>求法</h4><p>设$x = p_1^{a_1}<em>p_2^{a_2}</em>…<em>p_k^{a_k}$，则$\varphi{(x)} = x</em>(1-\frac{1}{p_1})<em>(1 - \frac{1}{p_2} )…</em>(1-\frac{1}{p_k})$</p>
<h4 id="证明"><a href="#证明" class="headerlink" title="证明"></a>证明</h4><p>利用容斥原理证明：</p>
<h4 id="模板"><a href="#模板" class="headerlink" title="模板"></a>模板</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">phi</span><span class="params">(<span class="keyword">int</span> x)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = x;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= x / i; i ++ )</span><br><span class="line">        <span class="keyword">if</span> (x % i == <span class="number">0</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            res = res / i * (i - <span class="number">1</span>);<span class="comment">//先除再乘防止溢出</span></span><br><span class="line">            <span class="keyword">while</span> (x % i == <span class="number">0</span>) x /= i;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">if</span> (x &gt; <span class="number">1</span>) res = res / x * (x - <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="筛法求欧拉函数-基于线性筛"><a href="#筛法求欧拉函数-基于线性筛" class="headerlink" title="筛法求欧拉函数(基于线性筛)"></a>筛法求欧拉函数(基于线性筛)</h3><h4 id="证明："><a href="#证明：" class="headerlink" title="证明："></a>证明：</h4><h4 id="模板-1"><a href="#模板-1" class="headerlink" title="模板"></a>模板</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> primes[N], cnt;     <span class="comment">// primes[]存储所有素数</span></span><br><span class="line"><span class="keyword">int</span> euler[N];           <span class="comment">// 存储每个数的欧拉函数</span></span><br><span class="line"><span class="keyword">bool</span> st[N];         <span class="comment">// st[x]存储x是否被筛掉</span></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">get_eulers</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    euler[<span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i ++ )</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!st[i])</span><br><span class="line">        &#123;</span><br><span class="line">            primes[cnt ++ ] = i;</span><br><span class="line">            euler[i] = i - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; primes[j] &lt;= n / i; j ++ )</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> t = primes[j] * i;</span><br><span class="line">            st[t] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">if</span> (i % primes[j] == <span class="number">0</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                euler[t] = euler[i] * primes[j];</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            euler[t] = euler[i] * (primes[j] - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="快速幂"><a href="#快速幂" class="headerlink" title="快速幂"></a>快速幂</h2><h4 id="模板-2"><a href="#模板-2" class="headerlink" title="模板"></a>模板</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">求 m^k mod p，时间复杂度 <span class="built_in">O</span>(logk)。</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">qmi</span><span class="params">(<span class="keyword">int</span> m, <span class="keyword">int</span> k, <span class="keyword">int</span> p)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">1</span> % p, t = m;</span><br><span class="line">    <span class="keyword">while</span> (k)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (k&amp;<span class="number">1</span>) res = res * t % p;</span><br><span class="line">        t = t * t % p;</span><br><span class="line">        k &gt;&gt;= <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="快速幂求逆元"><a href="#快速幂求逆元" class="headerlink" title="快速幂求逆元"></a>快速幂求逆元</h3><h4 id="乘法逆元定义"><a href="#乘法逆元定义" class="headerlink" title="乘法逆元定义"></a>乘法逆元定义</h4><h4 id="费马定理"><a href="#费马定理" class="headerlink" title="费马定理"></a>费马定理</h4><p>参考：<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E5%90%8C%E4%BD%99%E5%BC%8F/6024642?fr=aladdin">同余式</a>，<a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E6%95%B4%E9%99%A4/2452641?fr=aladdin">整除</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="扩展欧几里得算法"><a href="#扩展欧几里得算法" class="headerlink" title="扩展欧几里得算法"></a>扩展欧几里得算法</h2><h3 id="裴蜀定理"><a href="#裴蜀定理" class="headerlink" title="裴蜀定理"></a><a target="_blank" rel="noopener" href="https://baike.baidu.com/item/%E8%A3%B4%E8%9C%80%E5%AE%9A%E7%90%86/5186593?fr=aladdin">裴蜀定理</a></h3><h4 id="定义-1"><a href="#定义-1" class="headerlink" title="定义"></a>定义</h4><p>对于任意正整数$a, b$，一定存在非零整数$x, y$使得 $ax + by = gcd(a, b)$</p>
<h4 id="证明-1"><a href="#证明-1" class="headerlink" title="证明"></a>证明</h4><h3 id="扩展欧几里得算法-1"><a href="#扩展欧几里得算法-1" class="headerlink" title="扩展欧几里得算法"></a>扩展欧几里得算法</h3><p>在扩展欧几里得算法中，我们得到的$x, y$不唯一，但是得到一组$x, y$的值之后，就可以表示出所有的$(x, y)$</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 求x, y，使得ax + by = gcd(a, b)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">exgcd</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b, <span class="keyword">int</span> &amp;x, <span class="keyword">int</span> &amp;y)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!b)</span><br><span class="line">    &#123;</span><br><span class="line">        x = <span class="number">1</span>; y = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> d = <span class="built_in">exgcd</span>(b, a % b, y, x);</span><br><span class="line">    y -= (a/b) * x;</span><br><span class="line">    <span class="keyword">return</span> d;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="高斯消元"><a href="#高斯消元" class="headerlink" title="高斯消元"></a>高斯消元</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/374e1302/" data-id="ckw68jfm3001vbgidfz99bsk1" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%95%B0%E8%AE%BA/" rel="tag">数论</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-搜索" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/43934f6d/" class="article-date">
  <time datetime="2021-11-19T10:15:29.247Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/ACM/">ACM</a>►<a class="article-category-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>►<a class="article-category-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/43934f6d/">搜索</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="搜索"><a href="#搜索" class="headerlink" title="搜索"></a>搜索</h2><h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><p>特点：1、求最小；2、基于迭代，不会爆栈</p>
<h4 id="Flood-Fill-模型"><a href="#Flood-Fill-模型" class="headerlink" title="Flood Fill 模型"></a>Flood Fill 模型</h4><p>连通块思想</p>
<p>存图，然后从第一个点开始搜，找到符合条件的点之后，用BFS搜索与它相连的所有符合条件的点，并对这些点打上相应的标记。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e4</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, m;</span><br><span class="line"><span class="keyword">char</span> mp[N][N];</span><br><span class="line"><span class="keyword">bool</span> vis[N][N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span> sx, <span class="keyword">int</span> sy)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;pii&gt; q;</span><br><span class="line">    q.push(&#123;sx, sy&#125;);</span><br><span class="line">    <span class="keyword">while</span> (q.size())</span><br><span class="line">    &#123;</span><br><span class="line">        pii t = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> x = t.first, y = t.second;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = x - <span class="number">1</span>; i &lt;= x + <span class="number">1</span>; i ++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = y - <span class="number">1</span>; j &lt;= y + <span class="number">1</span>; j ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= n || j &lt; <span class="number">0</span> || j &gt;= m) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (vis[i][j] || mp[i][j] == <span class="string">&#x27;.&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">            q.push(&#123;i, j&#125;);</span><br><span class="line">            vis[i][j] = <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;n, &amp;m);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) <span class="built_in">scanf</span>(<span class="string">&quot;%s&quot;</span>, mp[i]);</span><br><span class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j ++)</span><br><span class="line">            <span class="keyword">if</span> (mp[i][j] == <span class="string">&#x27;W&#x27;</span> &amp;&amp; !vis[i][j])</span><br><span class="line">            &#123;</span><br><span class="line">                bfs(i, j);</span><br><span class="line">                cnt ++;</span><br><span class="line">            &#125;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, cnt);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="最短路模型"><a href="#最短路模型" class="headerlink" title="最短路模型"></a>最短路模型</h4><p>常规BFS，加上一个存地址的数组。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">int</span> n, mp[N][N], dx[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line">pii pre[N][N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;pii&gt; q;</span><br><span class="line">    q.push(&#123;n - <span class="number">1</span>, n - <span class="number">1</span>&#125;);</span><br><span class="line">    mp[n - <span class="number">1</span>][n - <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (q.size())</span><br><span class="line">    &#123;</span><br><span class="line">        pii t = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">int</span> x = t.first, y = t.second;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> nx = x + dx[i], ny = y + dy[i];</span><br><span class="line">            <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= n || ny &lt; <span class="number">0</span> || ny &gt;= n) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (mp[nx][ny] == <span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">            mp[nx][ny] = <span class="number">1</span>;</span><br><span class="line">            pre[nx][ny] = t;</span><br><span class="line">            q.push(&#123;nx, ny&#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j ++)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt; mp[i][j];</span><br><span class="line">    bfs();</span><br><span class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, j = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i != n - <span class="number">1</span> || j != n - <span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; j &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">int</span> x = pre[i][j].first, y = pre[i][j].second;</span><br><span class="line">        i = x, j = y;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; n - <span class="number">1</span> &lt;&lt; <span class="string">&#x27; &#x27;</span> &lt;&lt; n - <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="多源BFS"><a href="#多源BFS" class="headerlink" title="多源BFS"></a>多源BFS</h4><p>BFS 找最短路正确性的证明：</p>
<p>①：两段性</p>
<p>②：单调性</p>
<p>在BFS中已经入队的点的最短路已经确定，所以利用该点辐射的点入队后，这些点的最短路也就确定了。</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e3</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, m, dist[N][N], dx[<span class="number">4</span>] = &#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>&#125;, dy[<span class="number">4</span>] = &#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">-1</span>, <span class="number">0</span>&#125;;</span><br><span class="line"><span class="keyword">char</span> mp[N][N];</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">bfs</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">queue</span>&lt;pii&gt; q;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (mp[i][j] == <span class="string">&#x27;1&#x27;</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                dist[i][j] = <span class="number">0</span>;</span><br><span class="line">                q.push(&#123;i, j&#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (q.size())</span><br><span class="line">    &#123;</span><br><span class="line">        pii t = q.front();</span><br><span class="line">        q.pop();</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">4</span>; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> nx = t.first + dx[i], ny = t.second + dy[i];</span><br><span class="line">            <span class="keyword">if</span> (nx &lt; <span class="number">0</span> || nx &gt;= n || ny &lt; <span class="number">0</span> || ny &gt;= m) <span class="keyword">continue</span>;</span><br><span class="line">            <span class="keyword">if</span> (mp[nx][ny] == <span class="string">&#x27;1&#x27;</span>) <span class="keyword">continue</span>;</span><br><span class="line">            mp[nx][ny] = <span class="string">&#x27;1&#x27;</span>;</span><br><span class="line">            q.push(&#123;nx, ny&#125;);</span><br><span class="line">            dist[nx][ny] = dist[t.first][t.second] + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; m;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) <span class="built_in">cin</span> &gt;&gt; mp[i];</span><br><span class="line">    bfs();</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; m; j ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cout</span> &lt;&lt; dist[i][j] &lt;&lt; <span class="string">&#x27; &#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="最小步数模型"><a href="#最小步数模型" class="headerlink" title="最小步数模型"></a>最小步数模型</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="双端队列广搜"><a href="#双端队列广搜" class="headerlink" title="双端队列广搜"></a>双端队列广搜</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="双向广搜"><a href="#双向广搜" class="headerlink" title="双向广搜"></a>双向广搜</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="A"><a href="#A" class="headerlink" title="A*"></a>A*</h4><figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/43934f6d/" data-id="ckw68jfm0001sbgid9u88c1kg" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BFS/" rel="tag">BFS</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-二维前缀和" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/b8859ab5/" class="article-date">
  <time datetime="2021-11-19T10:15:29.243Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/b8859ab5/">二维前缀和</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="二维前缀和"><a href="#二维前缀和" class="headerlink" title="二维前缀和"></a>二维前缀和</h2><p>之前已经说过一维前缀和了，二位前缀和就是在此基础上拓展出来的。</p>
<img src="https://cdn.jsdelivr.net/gh/A-Egoist/cdn/blog-material/b8859ab5/1.png" style="zoom:80%;" />

<table>
<thead>
<tr>
<th></th>
<th align="left">定义式</th>
<th>递推式</th>
</tr>
</thead>
<tbody><tr>
<td>一维前缀和</td>
<td align="left"><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/images1.png" style="zoom: 80%;" /></td>
<td><code>S[i]=S[i-1]+a[i]</code></td>
</tr>
<tr>
<td>二维前缀和</td>
<td align="left"><img src="https://cdn.jsdelivr.net/gh/A-Egoist/cdn/blog-material/b8859ab5/1.png" style="zoom: 67%;" /></td>
<td><code>S[i][j]=S[i-1][j]+S[i][j-1]-S[i-1][j-1]+a[i][j]</code></td>
</tr>
</tbody></table>
<h2 id="二维差分"><a href="#二维差分" class="headerlink" title="二维差分"></a>二维差分</h2><h3 id="引例："><a href="#引例：" class="headerlink" title="引例："></a>引例：</h3><p>对于一个给定的 n * m 的矩阵 a ，再给出 q 次操作，每次询问给定 x1 ，y1 ，x2 ， y2 ，k ，表示对(x1,y1)为左上角，(x2,y2)为右下角的子矩阵加 k ，最后再输出以(x1,y1)为左上角，(x2,y2)为右下角的子矩阵的所有元素的和。</p>
<h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><p>为了减少时间的消耗，我们可以利用差分的方式来对这q次操作进行存储，即利用差分的方式，因此我们需要构造一个二维的差分数组，我们用二维数组d来表示差分数组，那么每次操作，我们只需要对数组b进行如下操作</p>
<p><code>b[x1][y1]+=k;</code></p>
<p><code>b[x2+1][y2+1]+=k;</code></p>
<p><code>b[x2+1][y1]-=k;</code></p>
<p><code>b[x1][y2+1]-=k;</code></p>
<p>最后经过这个处理，在进行一起求前缀和即可得出答案。</p>
<h2 id="例题：Monitor"><a href="#例题：Monitor" class="headerlink" title="例题：Monitor"></a>例题：<a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/showproblem.php?pid=6514">Monitor</a></h2><p>（暂时还没有做，等我做了之后再上解析）</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="http://acm.hdu.edu.cn/discuss/problem/list.php?problemid=6514">Monitor题解</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/b8859ab5/" data-id="ckw68jfly001lbgid5k7n3vgr" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" rel="tag">前缀和</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-SQL Sever 学习笔记——图形化创建数据库" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/fc45aa12/" class="article-date">
  <time datetime="2021-11-19T10:15:29.235Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>►<a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/SQL/">SQL</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/fc45aa12/">SQL Sever 学习笔记——图形化创建数据库</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SQL-Sever-Management-Studio基础"><a href="#SQL-Sever-Management-Studio基础" class="headerlink" title="SQL Sever Management Studio基础"></a>SQL Sever Management Studio基础</h1><h2 id="启动连接到数据库服务器"><a href="#启动连接到数据库服务器" class="headerlink" title="启动连接到数据库服务器"></a>启动连接到数据库服务器</h2><p><img src="https://img-blog.csdnimg.cn/20201126154402488.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>连接服务器之后可以看到界面的左侧如图所示：<br><img src="https://img-blog.csdnimg.cn/20201126154527220.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>展开数据库选项卡后，可以看到已经存在的数据库：<br><img src="https://img-blog.csdnimg.cn/202011261546369.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="创建数据库"><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h2><p>右键单击“数据库”选项，选择“新建数据库”选项：<br><img src="https://img-blog.csdnimg.cn/20201126155206550.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>我们根据需求依次修改“常规”、“选项”、“文件组”等信息。</p>
<h3 id="SQL-Server-数据库种类及文件"><a href="#SQL-Server-数据库种类及文件" class="headerlink" title="SQL Server 数据库种类及文件"></a>SQL Server 数据库种类及文件</h3><p>在上面新建数据库的过程中，我们需要对数据库文件进行命名，在此之前我们就需要了解到数据库文件的种类。<br>文件分为两种，分别是数据文件(.mdf | .ndf)和日志文件(.ldf)，其中.mdf文件是主数据文件，一个数据库中有且仅有一个.mdf文件；.ndf是辅助数据文件，一个数据库中可以有零个或多个；.ldf是日志文件，其用于存放对数据库的操作记录，一个数据库可以包含一个或多个。</p>
<h3 id="数据库文件组"><a href="#数据库文件组" class="headerlink" title="数据库文件组"></a>数据库文件组</h3><p>1）<font color=red size=4 >主文件组</font>。包含主数据文件和未指明组的其他文件。<br>2）<font color=red size=4 >次文件组</font>。也称用户自定义文件组，是由用户首次创建或修改数据库时自定义的。其目的在于数据分配，以提高数据库的读写效率。<br>3）<font color=red size=4 >默认文件组</font>。各数据库都有一个被指定的默认文件组。若在数据库创建对象时没有指定其所属的文件组时，则将分配给默认文件组。</p>
<h3 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h3><p>在我们创建好数据库之后，我们就可以可以根据关系在数据库中创建表了，步骤如下：<br>首先我们打开我们创建好的数据库：<br><img src="https://img-blog.csdnimg.cn/20201126163925747.png#pic_center" alt="在这里插入图片描述"><br>然后，我们右键单击“表”，选择“新建”，再选择“表”，结果如图所示：<br><img src="https://img-blog.csdnimg.cn/20201126164304458.png#pic_center" alt="在这里插入图片描述"></p>
<h4 id="创建属性"><a href="#创建属性" class="headerlink" title="创建属性"></a>创建属性</h4><p>在创建好表之后，我们就可以根据表结构来创建对应的属性，以及设置一些基本的要求。如：选择数据类型，选择字符型长度，是否允许NULL值<br><img src="https://img-blog.csdnimg.cn/20201126164836725.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>在设计好这些基本的要求后，我们可以选择保存，并对表进行命名。<br><img src="https://img-blog.csdnimg.cn/2020112616502731.png#pic_center" alt="在这里插入图片描述"><br>如果想在保存之后再次修改表格内容并保存，我们需要修改设置：<br>点击左上角的“工具”，选择“选项”，按照图中的指示，找到“阻止保存要求重新创建表的更改”，取消前面的“√”<br><img src="https://img-blog.csdnimg.cn/20201126165446407.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h4 id="约束条件"><a href="#约束条件" class="headerlink" title="约束条件"></a>约束条件</h4><p>1）主键约束<br><img src="https://img-blog.csdnimg.cn/20201126170006530.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>2）默认值约束<br><img src="https://img-blog.csdnimg.cn/20201126170102849.png#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201126170135170.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>3）NULL约束<br><img src="https://img-blog.csdnimg.cn/20201126170211208.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>4）唯一性约束<br><img src="https://img-blog.csdnimg.cn/2020112617023867.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201126170405295.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>5）检查约束<br><img src="https://img-blog.csdnimg.cn/20201126170431501.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br>根据需求填写约束表达式<br><img src="https://img-blog.csdnimg.cn/2020112617050726.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<p>6）外键约束<br><img src="https://img-blog.csdnimg.cn/20201126170617817.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201126170651156.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h3 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h3><p><img src="https://img-blog.csdnimg.cn/20201126171030154.png#pic_center" alt="在这里插入图片描述"><br>右键单击需要修改的表，再选择“设计”选项，就可以按照之前的步骤对表进行修改。</p>
<h3 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h3><p><img src="https://img-blog.csdnimg.cn/20201126171214391.png#pic_center" alt="在这里插入图片描述"><br>右键单击需要删除的表，选择“删除”选项，在确认之后就可以对表进行删除操作。</p>
<h2 id="修改数据库"><a href="#修改数据库" class="headerlink" title="修改数据库"></a>修改数据库</h2><p>选择需要修改的数据库，右键单击选择“属性”，即可对数据库做出修改。<br><img src="https://img-blog.csdnimg.cn/2020112617144576.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70#pic_center" alt="在这里插入图片描述"></p>
<h2 id="删除数据库"><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h2><p>选择需要删除的数据库，右键单击选择“删除”，在确认后即可删除数据库。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/fc45aa12/" data-id="ckw68jfll000rbgidaux66ddo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-SQL Server 学习笔记——T-SQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/4c74c080/" class="article-date">
  <time datetime="2021-11-19T10:15:29.234Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/4c74c080/">SQL Server 学习笔记——T-SQL</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SQL学习笔记"><a href="#SQL学习笔记" class="headerlink" title="SQL学习笔记"></a>SQL学习笔记</h1><h2 id="一、SQL概述"><a href="#一、SQL概述" class="headerlink" title="一、SQL概述"></a>一、SQL概述</h2><p>SQL按其功能可以分为三大部分：<br><font color=green size=5 >数据定义</font>功能、<font color=green size=5 >数据操纵</font>功能和<font color=green size=5 >数据控制</font>功能<br>DDL、DML、DCL</p>
<table>
<thead>
<tr>
<th>SQL功能</th>
<th>命令动词</th>
</tr>
</thead>
<tbody><tr>
<td>数据定义</td>
<td>CREATE、ALTER、DROP</td>
</tr>
<tr>
<td>数据操纵</td>
<td>SELECT、INSERT、UPDATE、DELETE</td>
</tr>
<tr>
<td>数据控制</td>
<td>GRANT、REVOKE</td>
</tr>
</tbody></table>
<h2 id="二、SQL数据定义"><a href="#二、SQL数据定义" class="headerlink" title="二、SQL数据定义"></a>二、SQL数据定义</h2><p>在SQL Server中，我们点击“新建查询”，在弹出的窗口中键入sql语言<br><img src="https://img-blog.csdnimg.cn/20201129135250537.png" alt="在这里插入图片描述"></p>
<h3 id="1、创建数据库"><a href="#1、创建数据库" class="headerlink" title="1、创建数据库"></a>1、创建数据库</h3><p>基本格式：<br><img src="https://img-blog.csdnimg.cn/20201129131947144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>样例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE Demo</span><br><span class="line"><span class="keyword">ON</span></span><br><span class="line">(NAME<span class="operator">=</span>Demo_data,<span class="comment">--主文件名称</span></span><br><span class="line">FILENAME<span class="operator">=</span><span class="string">&#x27;D:\Test\Demo_data.mdf&#x27;</span>,<span class="comment">--主文件的绝对路径</span></span><br><span class="line">SIZE<span class="operator">=</span><span class="number">1</span>,<span class="comment">--主文件的大小</span></span><br><span class="line">MAXSIZE<span class="operator">=</span><span class="number">10</span>,<span class="comment">--最大值</span></span><br><span class="line">FILEGROWTH<span class="operator">=</span><span class="number">1</span><span class="comment">--数值型增长方式 </span></span><br><span class="line"><span class="comment">--FILEGROWTH=10%--百分比增长</span></span><br><span class="line">)</span><br><span class="line">LOG <span class="keyword">ON</span></span><br><span class="line">(NAME<span class="operator">=</span>Demo_log,<span class="comment">--日志文件名称</span></span><br><span class="line">FILENAME<span class="operator">=</span><span class="string">&#x27;D:\Test\Demo_log.ldf&#x27;</span>,<span class="comment">--日志文件的绝对路径</span></span><br><span class="line">SIZE<span class="operator">=</span><span class="number">1</span>,<span class="comment">--日志文件的大小</span></span><br><span class="line">MAXSIZE<span class="operator">=</span><span class="number">10</span>,<span class="comment">--最大值</span></span><br><span class="line">FILEGROWTH<span class="operator">=</span><span class="number">1</span><span class="comment">--数值型增长方式 </span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>效果：<br><img src="https://img-blog.csdnimg.cn/20201129130955662.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201129131113123.png" alt="在这里插入图片描述"></p>
<h3 id="2、修改数据库"><a href="#2、修改数据库" class="headerlink" title="2、修改数据库"></a>2、修改数据库</h3><p>修改数据库名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE Demo</span><br><span class="line">MODIFY NAME<span class="operator">=</span>New_Demo</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129132917899.png" alt="在这里插入图片描述"><br>修改文件名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE New_Demo MODIFY FILE(NAME<span class="operator">=</span>Demo_data,NEWNAME<span class="operator">=</span>Demo)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129133300677.png" alt="在这里插入图片描述"></p>
<p>添加新文件：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE New_Demo</span><br><span class="line"><span class="keyword">ADD</span> FILE</span><br><span class="line">(NAME <span class="operator">=</span> Demo_ndf,</span><br><span class="line">FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\Test\Demo_ndf.ndf&#x27;</span>,</span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">5</span>MB,</span><br><span class="line">MAXSIZE <span class="operator">=</span> <span class="number">10</span>MB,</span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">1</span>MB</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129133905996.png" alt="在这里插入图片描述"><br>添加日志文件</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE New_Demo</span><br><span class="line"><span class="keyword">ADD</span> LOG FILE</span><br><span class="line">(NAME <span class="operator">=</span> Demo_new_log,</span><br><span class="line">FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\Test\Demo_new_log.ldf&#x27;</span>,</span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">1</span>MB,</span><br><span class="line">MAXSIZE <span class="operator">=</span> <span class="number">10</span>MB,</span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">1</span>MB</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="3、删除数据库"><a href="#3、删除数据库" class="headerlink" title="3、删除数据库"></a>3、删除数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE 数据库<span class="number">1</span>[,数据库<span class="number">2</span>，数据库<span class="number">3</span>]<span class="comment">--可以同时删除多个数据库</span></span><br><span class="line"><span class="comment">--但是用sql语句删除数据库的时候不会有确认信息，所以请小心使用</span></span><br></pre></td></tr></table></figure>
<h3 id="4、创建基本表"><a href="#4、创建基本表" class="headerlink" title="4、创建基本表"></a>4、创建基本表</h3><p>定义基本表的一般格式：<br><img src="https://img-blog.csdnimg.cn/20201129134608274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><font color=red size=6>warning</font><br>在SQL Server 建立新建查询的时候注意手动选择数据库<br><img src="https://img-blog.csdnimg.cn/2020112913504458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>样例：<br><img src="https://img-blog.csdnimg.cn/20201129135406729.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>根据上图所示内容，我们可以创建一个Student表：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>),</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">10</span>),</span><br><span class="line">Ssex <span class="type">char</span>(<span class="number">2</span>),</span><br><span class="line">Sage tinyint,</span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129135622277.png" alt="在这里插入图片描述"><br>在上面的例子中，我们创建表格的时候没有确立约束条件。<br>一个表的约束条件分为两类：<font color=blue size=5>列级约束条件</font>和<font color=blue size=5>表级约束条件</font>。</p>
<h4 id="1-列级约束条件"><a href="#1-列级约束条件" class="headerlink" title="1)列级约束条件"></a>1)列级约束条件</h4><p><img src="https://img-blog.csdnimg.cn/2020112914000774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sname <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span><span class="comment">--取值非空</span></span><br><span class="line">Sage tinyint <span class="keyword">DEFAULT</span> <span class="number">18</span><span class="comment">--默认值约束</span></span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">UNIQUE</span><span class="comment">--限制列取值不重复</span></span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">CHECK</span>(Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">OR</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span>)<span class="comment">--限制列的取值范围</span></span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">PRIMARY</span> KEY<span class="comment">--指定本列为主码</span></span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">FOREIGN</span> KEY (Sdept) <span class="keyword">REFERENCES</span> SC(Sdept)<span class="comment">--外码约束</span></span><br></pre></td></tr></table></figure>
<h4 id="2-表级约束条件"><a href="#2-表级约束条件" class="headerlink" title="2)表级约束条件"></a>2)表级约束条件</h4><p>UNIQUE表级约束：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNIQUE</span>(Sno,Sname)<span class="comment">--表示(Sno,Sname)这样的组合不允许重复</span></span><br><span class="line"><span class="comment">--但是在Sno或Sname的列中可以重复</span></span><br></pre></td></tr></table></figure>
<p>PRIMARY表级约束：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PRIMARY</span> KEY(Sno)<span class="comment">--和在Sno进行列定义相同</span></span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(Sno,Sname)<span class="comment">--以(Sno,Sname)这样的组合作为表的主码</span></span><br></pre></td></tr></table></figure>
<h4 id="3-实例"><a href="#3-实例" class="headerlink" title="3)实例"></a>3)实例</h4><p><img src="https://img-blog.csdnimg.cn/20201129142101770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Ssex <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">CHECK</span>(Ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">OR</span> Ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>),</span><br><span class="line">Sage tinyint <span class="keyword">CHECK</span>(Sage<span class="operator">&gt;=</span><span class="number">15</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;=</span><span class="number">45</span>),</span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;计算机系&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129143229352.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201129142126453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Course</span><br><span class="line">(</span><br><span class="line">Cno <span class="type">char</span>(<span class="number">10</span>),</span><br><span class="line">Cname <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Ccredit tinyint <span class="keyword">CHECK</span>(Ccredit<span class="operator">&gt;</span><span class="number">0</span>),</span><br><span class="line">Semester tinyint <span class="keyword">CHECK</span>(Semester<span class="operator">&gt;</span><span class="number">0</span>),</span><br><span class="line"><span class="keyword">Period</span> <span class="type">int</span> <span class="keyword">CHECK</span>(<span class="keyword">Period</span><span class="operator">&gt;</span><span class="number">0</span>),</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(Cno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129143241897.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201129142141266.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> SC</span><br><span class="line">(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Cno <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Grade tinyint,</span><br><span class="line"><span class="keyword">CHECK</span>(Grade<span class="operator">&gt;=</span><span class="number">0</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;=</span><span class="number">100</span>),</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(Sno,Cno),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(Sno) <span class="keyword">REFERENCES</span> Student(Sno),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(Cno) <span class="keyword">REFERENCES</span> Course(Cno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2020112914320043.png" alt="在这里插入图片描述"></p>
<h3 id="5、修改基本表"><a href="#5、修改基本表" class="headerlink" title="5、修改基本表"></a>5、修改基本表</h3><p>在定义完表之后，我们还可能需要修改表的结构，修改表的方法如下：<br><img src="https://img-blog.csdnimg.cn/2020112914412058.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--在SC表中添加XKLB列--添加新列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> XKLB <span class="type">char</span>(<span class="number">4</span>)</span><br><span class="line"><span class="comment">--将XKLB的类型改为char(6)--修改列定义</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> XKLB <span class="type">char</span>(<span class="number">6</span>)</span><br><span class="line"><span class="comment">--删除Course表的Period列--删除列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Course</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="keyword">Period</span></span><br></pre></td></tr></table></figure>
<p>约束添加：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--添加主码约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> PK_SC <span class="keyword">PRIMARY</span> KEY(Sno)<span class="comment">--ADD CONSTRAINT 约束名 PRIMARY KEY(列名)</span></span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> PK_SC <span class="keyword">PRIMARY</span> KEY(Sno,Cno)<span class="comment">--表级约束</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加唯一性约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Course</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> UK_C <span class="keyword">UNIQUE</span>(Cno)<span class="comment">--ADD CONSTRAINT 约束名 UNIQUE(列名[,列名1,列名2···])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加外键约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> FK_SC <span class="keyword">FOREIGN</span> KEY(Sno) <span class="keyword">REFERENCES</span> Student(Sno)<span class="comment">--ADD CONSTRAINT 约束名FOREIGN KEY(列名) REFERENCES 引用表名(列名)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加默认值约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> DF_SC <span class="keyword">DEFAULT</span> <span class="number">1</span> <span class="keyword">FOR</span> Grade<span class="comment">--ADD CONSTRAINT 约束名 DEFAULT 默认值 FOR 列名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加检查约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Student</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> CK_S <span class="keyword">CHECK</span>(Sage<span class="operator">&gt;</span><span class="number">15</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;</span><span class="number">45</span>)<span class="comment">--ADD CONSTRAINT 约束名 CHECK(约束表达式)</span></span><br></pre></td></tr></table></figure>
<h3 id="6、删除基本表"><a href="#6、删除基本表" class="headerlink" title="6、删除基本表"></a>6、删除基本表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> 表<span class="number">1</span>[,表<span class="number">2</span>,表<span class="number">3</span>]</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> Student</span><br></pre></td></tr></table></figure>
<h2 id="三、SQL数据操纵"><a href="#三、SQL数据操纵" class="headerlink" title="三、SQL数据操纵"></a>三、SQL数据操纵</h2><h3 id="1、数据查询"><a href="#1、数据查询" class="headerlink" title="1、数据查询"></a>1、数据查询</h3><p>查询语句是数据库使用中最基本和最重要的语句之一，其功能是从数据中检索满足条件的数据。<br>数据来源可以是一张表、多张表或者视图。<br>查询结果是关系。<br>语句格式：<br><img src="https://img-blog.csdnimg.cn/20201129155730737.png" alt="在这里插入图片描述"></p>
<h4 id="1-简单查询"><a href="#1-简单查询" class="headerlink" title="1)简单查询"></a>1)简单查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询指定列</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sname <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="comment">--查询所有列</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="comment">--查询经过计算的列</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,<span class="number">2020</span><span class="operator">-</span>Sage <span class="keyword">FROM</span> Student<span class="comment">--第二列列名为空</span></span><br></pre></td></tr></table></figure>
<h4 id="2-改变列标题"><a href="#2-改变列标题" class="headerlink" title="2)改变列标题"></a>2)改变列标题</h4><p>①：<code>列名 | 表达式 [AS] 列别名</code><br>②：<code>列别名 = 列名 | 表达式</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname 姓名,<span class="number">2020</span><span class="operator">-</span>Sage <span class="keyword">AS</span> 出身年份 <span class="keyword">FROM</span> Student</span><br></pre></td></tr></table></figure>

<h4 id="3-选择表中若干行"><a href="#3-选择表中若干行" class="headerlink" title="3)选择表中若干行"></a>3)选择表中若干行</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="comment">--等价于</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">ALL</span> Sno <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="comment">--在SELECT中缺省则为ALL</span></span><br><span class="line"><span class="comment">--DISTINCT关键字可以去重</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Sno <span class="keyword">FROM</span> SC</span><br></pre></td></tr></table></figure>
<h4 id="4-WHERE用于查询满足条件的元组"><a href="#4-WHERE用于查询满足条件的元组" class="headerlink" title="4)WHERE用于查询满足条件的元组"></a>4)<code>WHERE</code>用于查询满足条件的元组</h4><p><img src="https://img-blog.csdnimg.cn/20201129160848518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--比较</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> <span class="keyword">NOT</span> Sage<span class="operator">&gt;=</span><span class="number">20</span></span><br><span class="line"><span class="comment">--范围</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;=</span><span class="number">23</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">20</span> <span class="keyword">OR</span> Sage<span class="operator">&gt;</span><span class="number">23</span></span><br><span class="line"><span class="comment">--集合</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span>(<span class="string">&#x27;IS&#x27;</span>,<span class="string">&#x27;MA&#x27;</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept <span class="keyword">NOT</span> <span class="keyword">IN</span>(<span class="string">&#x27;IS&#x27;</span>,<span class="string">&#x27;MA&#x27;</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="5-字符串匹配"><a href="#5-字符串匹配" class="headerlink" title="5)字符串匹配"></a>5)字符串匹配</h4><p>在字符匹配中有四种通配符：<br><code>_</code>：匹配任意一个字符<br><code>%</code>：匹配0个或多个字符<br><code>[]</code>：匹配<code>[]</code>中的任意一个字符<br><code>[^]</code>：不匹配<code>[]</code>中的任意一个字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;200215121&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;王%&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;[张刘李]%&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;%[^235]&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;%[235]&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="6-涉及空值的查询"><a href="#6-涉及空值的查询" class="headerlink" title="6)涉及空值的查询"></a>6)涉及空值的查询</h4><p>空值(<code>NULL</code>)在数据库中有特殊的含义，代表不确定的值<br>判断某个值是否为<code>NULL</code>，只能用专门的判断<code>NULL</code>值的子句来完成<code>IS NULL</code>、<code>IS NOT NULL</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Grade <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Grade <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>
<h4 id="7-多重条件查询"><a href="#7-多重条件查询" class="headerlink" title="7)多重条件查询"></a>7)多重条件查询</h4><p>运用<code>AND</code>和<code>OR</code>俩简介查询多个查询条件<br>其中<code>AND</code>的优先级高于<code>OR</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br></pre></td></tr></table></figure>
<h4 id="8-ORDER-BY"><a href="#8-ORDER-BY" class="headerlink" title="8)ORDER BY"></a>8)<code>ORDER BY</code></h4><p><code>ORDER BY &lt;列名&gt; [ASC | DESC][,&lt;列名&gt;···]</code><br>可以按一个或多个属性列排序<br><code>ASC</code>：升序、<code>DESC</code>降序、缺省值为升序<br>当排序列含空值时：<br><code>ASC</code>：排序列为空值的元组最先显示<br><code>DESC</code>：排序列为空值的元组最后显示</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Grade <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;3&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> Grade <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>
<h4 id="9-TOP限制结果集"><a href="#9-TOP限制结果集" class="headerlink" title="9)TOP限制结果集"></a>9)TOP限制结果集</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">3</span> Sname,Sage,Sdept <span class="keyword">FROM</span> Student <span class="keyword">ORDER</span> <span class="keyword">BY</span> Sage <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>
<h4 id="10-聚集函数"><a href="#10-聚集函数" class="headerlink" title="10)聚集函数"></a>10)聚集函数</h4><p>聚集函数也称为集合函数或聚合函数、计算函数，其作用是对一组值进行计算并返回一个单值。SQL提供的聚合函数有：<br><code>COUNT(*)</code>：统计表中元组个数<br><code>COUNT(&lt;列名&gt;)</code>：统计本列列值个数<br><code>SUM(&lt;列名&gt;)</code>：计算列值综合<br><code>AVG(&lt;列名&gt;)</code>：计算列值平均值<br><code>MAX(&lt;列名&gt;)</code>：求列值最大值<br><code>MIN(&lt;列名&gt;)</code>：求列值最小值<br>除<code>COUNT(*)</code>外，其他函数在计算过程中均忽略<code>NULL</code>值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) 总人数 <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(Sno) 选课人数 <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(Grade) 总成绩 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Sno<span class="operator">=</span><span class="string">&#x27;95122&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(Grade) 平均成绩 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(Grade) 最高分 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(Grade) 最低分 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br></pre></td></tr></table></figure>
<p><font color=red>聚合函数不能出现在WHERE子句中</font></p>
<h4 id="11-GROUP-BY"><a href="#11-GROUP-BY" class="headerlink" title="11)GROUP BY"></a>11)<code>GROUP BY</code></h4><p><code>GROUP BY</code>可将计算控制在组一级，分组的目的是细化计算函数的作用对象<br>分组语句位置在<code>WHERE</code>子句的后边，一般形式为：<br><code>GROUP BY &lt;分组依据列&gt;</code><br><code>[HAVING &lt;组过滤条件&gt;]</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno 课程号,<span class="built_in">COUNT</span>(Sno) 选课人数 <span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line"><span class="keyword">SELECT</span> Sno 学号,<span class="built_in">COUNT</span>(Cno) 选课门数,<span class="built_in">AVG</span>(Grade) 平均成绩 </span><br><span class="line"><span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br></pre></td></tr></table></figure>

<p><font size=6 color=blue>暂时只学到了这里，之后再更新o(╥﹏╥)o</font></p>
<h4 id="12-其他"><a href="#12-其他" class="headerlink" title="12)其他"></a>12)其他</h4><h3 id="2、数据更改"><a href="#2、数据更改" class="headerlink" title="2、数据更改"></a>2、数据更改</h3><h2 id="四、SQL数据控制"><a href="#四、SQL数据控制" class="headerlink" title="四、SQL数据控制"></a>四、SQL数据控制</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/4c74c080/" data-id="ckw68jflk000nbgid0d66enrk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-LaTex入门笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/f43198be/" class="article-date">
  <time datetime="2021-11-19T10:15:29.218Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/f43198be/">LaTex入门笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="LaTex入门笔记"><a href="#LaTex入门笔记" class="headerlink" title="LaTex入门笔记"></a>LaTex入门笔记</h1><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>很早之前写博客的时候就用LaTex写数学公式了，但是一直没有系统的学习过LaTex，正好逻辑代数的实验报告推荐使用LaTex编写，那我就开始系统的学习一边LaTex了。</p>
<p>不得不说在用过LaTex之后对Word的排版是真的难以忍受了。但是现在对于我来说用纯LaTex写实验报告之类的还是太慢了，所以现阶段我都是用md+LaTex编写的。</p>
<p>话说，用md写LaTex的入门笔记是不是不太行(╥╯^╰╥)</p>
<h2 id="LaTex的安装与配置"><a href="#LaTex的安装与配置" class="headerlink" title="LaTex的安装与配置"></a>LaTex的安装与配置</h2><p>参考：<a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/38178015">使用VSCode编写LaTeX</a></p>
<h2 id="LaTex基础"><a href="#LaTex基础" class="headerlink" title="LaTex基础"></a>LaTex基础</h2><h3 id="Hello-World"><a href="#Hello-World" class="headerlink" title="Hello World"></a>Hello World</h3><p>LaTex 语言是以反斜杠 <code>\</code> 开头的宏标记语言</p>
<p>注释以<code>%</code> 开头，若需要输入 <code>%</code> 则需要用 <code>\</code> 进行转义</p>
<p>按照惯例，输出一个 <code>Hello world</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;%文章类型为article，此外除了article之外还有：book，report</span><br><span class="line">%导言区</span><br><span class="line">%你可以将导言区理解为是对整篇文档进行设置的区域</span><br><span class="line">%在导言区出现的控制序列，往往会影响整篇文档的格式。</span><br><span class="line">%比如，我们通常在导言区设置页面大小、页眉页脚样式、章节标题样式等等。</span><br><span class="line">\begin&#123;document&#125;%文章开始的部分，只有位于document中的内容才会在PDF文件中显示</span><br><span class="line">    Hello, world!%我们需要在PDF文件中显示的内容</span><br><span class="line">\end&#123;document&#125;%文章的结尾</span><br></pre></td></tr></table></figure>

<p>在LaTex中 <code>\begin</code> 和 <code>\end</code> 成对出现，两者之间的内容被称为<strong>环境</strong>，两者之后的第一个参数总是一致的，被称作环境名。</p>
<p>在VSCode中我们写好上面的代码之后就可以点击<img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/imagesimage-20210329204354659.png" alt="image-20210329204354659">，从而将tex文件编译成PDF文件。然后我们就可以点击<code>View LaTex PDF</code>中的选项来查看编译结果。</p>
<h3 id="组织文章"><a href="#组织文章" class="headerlink" title="组织文章"></a>组织文章</h3><h4 id="文档类型选择"><a href="#文档类型选择" class="headerlink" title="文档类型选择"></a>文档类型选择</h4><p>因为现在我主要用LaTex排版的内容是中文，因此我所需要使用的宏对中文的支持必须非常好，因此我在这里推荐是用CTeX，使用方法为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\documentclass[UTF8, c5size]&#123;ctexart&#125;</span><br></pre></td></tr></table></figure>

<p>或者</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">\documentclass&#123;article&#125;</span><br><span class="line">\usepackage[UTF8]&#123;ctex&#125;</span><br></pre></td></tr></table></figure>

<p>CTeX 宏集提供了四个中文文档类：ctexart、ctexrep、ctexbook和ctexbeamer，分别对应 LaTeX 的标准文档类article、report、book和beamer。</p>
<h4 id="设置字体"><a href="#设置字体" class="headerlink" title="设置字体"></a>设置字体</h4><p>在CTeX宏包中，默认的正常字体是宋体，粗体是黑体，意大利体是楷体。</p>
<p>我们也可以通过使用<code>&#123;\songti ......&#125;</code>来修改字体</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;\songti 什么是半加器和全加器？各自有何特点？&#125;</span><br><span class="line">&#123;\heiti 什么是半加器和全加器？各自有何特点？&#125;</span><br><span class="line">&#123;\fangsong 什么是半加器和全加器？各自有何特点？&#125;</span><br><span class="line">&#123;\kaishu 什么是半加器和全加器？各自有何特点？&#125;</span><br></pre></td></tr></table></figure>

<p>关于更加详细的字体介绍可以看看这本手册：<a target="_blank" rel="noopener" href="https://www.moonpapers.com/manual/latex/basic/text/typeface/use.html">字体使用</a></p>
<h4 id="设置字号"><a href="#设置字号" class="headerlink" title="设置字号"></a>设置字号</h4><h5 id="局部修改字号"><a href="#局部修改字号" class="headerlink" title="局部修改字号"></a>局部修改字号</h5><p>对于字体的大小在LaTex中有很多命令来操纵：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">\Huge</span><br><span class="line">\huge</span><br><span class="line">\LARGE</span><br><span class="line">\Large</span><br><span class="line">\large</span><br><span class="line">\normalsize (default)</span><br><span class="line">\small</span><br><span class="line">\footnotesize</span><br><span class="line">\scriptsize</span><br><span class="line">\tiny</span><br></pre></td></tr></table></figure>

<p>这些命令对应字体的大小和默认字体有关，具体对应关系如下：</p>
<p><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/images14174754-267e8aa705533a74.png" alt="img"></p>
<h5 id="全局修改字号"><a href="#全局修改字号" class="headerlink" title="全局修改字号"></a>全局修改字号</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\documentclass[c5size]&#123;ctexart&#125;%直接在\documentclass后面添加相应的字体大小即可</span><br></pre></td></tr></table></figure>

<p>关于字号的详细信息可以看看这篇博客：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/68da21a1501a">latex 字体设置</a></p>
<h4 id="设置行间距"><a href="#设置行间距" class="headerlink" title="设置行间距"></a>设置行间距</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\setlength&#123;\baselineskip&#125;&#123;20pt&#125;%20pt表示行间距大小为20磅</span><br></pre></td></tr></table></figure>

<p>关于LaTex长度单位可以看这篇博客：<a target="_blank" rel="noopener" href="http://blog.sina.com.cn/s/blog_5e16f1770100fve8.html">LaTeX技巧18：LaTeX的长度单位入门</a></p>
<h4 id="作者、标题、日期"><a href="#作者、标题、日期" class="headerlink" title="作者、标题、日期"></a>作者、标题、日期</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\documentclass[UTF8]&#123;ctexart&#125;</span><br><span class="line">\title&#123;你好，LaTex!&#125;%标题</span><br><span class="line">\author&#123;A-Egoist&#125;%作者</span><br><span class="line">\date&#123;\today&#125;%时间</span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">\maketitle%将在导言区中定义的标题、作者、日期按照预定的格式展现出来</span><br><span class="line">%\tableofcontents%设置目录，但是需要进行两次编译才能体现出效果</span><br><span class="line">你好，world!</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure>

<h4 id="章节和段落"><a href="#章节和段落" class="headerlink" title="章节和段落"></a>章节和段落</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">\documentclass[UTF8, c5size]&#123;ctexart&#125;</span><br><span class="line">\usepackage&#123;lipsum&#125;</span><br><span class="line">\usepackage&#123;&#125;</span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">\centering</span><br><span class="line">\section&#123;\songti 什么是半加器和全加器？各自有何特点？&#125;</span><br><span class="line">\subsection&#123;半加器(half-adder)&#125;</span><br><span class="line">\subsubsection&#123;概述&#125;</span><br><span class="line">\subsubsection&#123;原理&#125;</span><br><span class="line">\subsection&#123;全加器(full-adder)&#125;</span><br><span class="line">\section&#123;根据组合逻辑电路设计步骤，设计半加器和全加器，并在Logisim中仿真。&#125;</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure>

<p>效果展示：</p>
<img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/imagesimage-20210331145215340.png" style="zoom:80%;" />

<p>在文档类 <code>article</code>/<code>ctexart</code> 中，定义了五个控制序列来调整行文组织结构。他们分别是</p>
<ul>
<li><code>\section&#123;·&#125;</code></li>
<li><code>\subsection&#123;·&#125;</code></li>
<li><code>\subsubsection&#123;·&#125;</code></li>
<li><code>\paragraph&#123;·&#125;</code></li>
<li><code>\subparagraph&#123;·&#125;</code></li>
</ul>
<blockquote>
<p>在<code>report</code>/<code>ctexrep</code>中，还有<code>\chapter&#123;·&#125;</code>；在文档类<code>book</code>/<code>ctexbook</code>中，还定义了<code>\part&#123;·&#125;</code>。</p>
</blockquote>
<h4 id="插入目录"><a href="#插入目录" class="headerlink" title="插入目录"></a>插入目录</h4><p>在上一节的文档中，找到 <code>\maketitle</code>，在它的下面插入控制序列 <code>\tableofcontents</code>，保存并用 XeLaTeX 编译<strong>两次</strong></p>
<blockquote>
<p>第一次编译的时候和之前没有什么区别<br>但是当第二次编译的时候会在时间下方多出一个目录</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">\documentclass[UTF8, c5size]&#123;ctexart&#125;</span><br><span class="line">\begin&#123;document&#125;</span><br><span class="line">    \maketitle</span><br><span class="line">    \tableofcontents</span><br><span class="line">\end&#123;document&#125;</span><br></pre></td></tr></table></figure>

<h4 id="换行"><a href="#换行" class="headerlink" title="换行"></a>换行</h4><p>LaTeX 将一个换行当做是一个简单的空格来处理，如果需要换行另起一段，则需要用两个换行（一个空行）来实现。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">简单来说半加器就是一个两输入两输出、只能进行两个一位二进制</span><br><span class="line">加法的器件，因为两输入两输出的特性使得半加器不需要考虑低位的进位。%这样没有达到换行的目的</span><br><span class="line">%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%</span><br><span class="line">简单来说半加器就是一个两输入两输出、只能进行两个一位二进制</span><br><span class="line"></span><br><span class="line">加法的器件，因为两输入两输出的特性使得半加器不需要考虑低位的进位。%这样才是换行</span><br></pre></td></tr></table></figure>



<h3 id="插入数学公式"><a href="#插入数学公式" class="headerlink" title="插入数学公式"></a>插入数学公式</h3><p>LaTeX 的数学模式有两种：行内模式 (inline) 和行间模式 (display)。前者在正文的行文中，插入数学公式；后者独立排列单独成行，并自动居中。</p>
<p>在行文中，使用 <code>$ ... $</code> 可以插入行内公式，使用 <code>\[ ... \]</code> 可以插入行间公式，如果需要对行间公式进行编号，则可以使用 <code>equation</code> 环境。</p>
<blockquote>
<p>行内公式也可以使用 <code>\(...\)</code> 或者 <code>\begin&#123;math&#125; ... \end&#123;math&#125;</code> 来插入，但略显麻烦。<br>无编号的行间公式也可以使用 <code>\begin&#123;displaymath&#125; ... \end&#123;displaymath&#125;</code> 或者 <code>\begin&#123;equation*&#125; ... \end&#123;equation*&#125;</code> 来插入，但略显麻烦。（<code>equation*</code> 中的 <code>*</code> 表示环境不编号）<br>也有 plainTeX 风格的 <code>$$ ... $$</code> 来插入不编号的行间公式。但是在 LaTeX 中这样做会改变行文的默认行间距，不推荐。</p>
</blockquote>
<p>在使用数学公式之前，我们需要导入包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;amsmath&#125;</span><br></pre></td></tr></table></figure>

<h4 id="行内公式"><a href="#行内公式" class="headerlink" title="行内公式"></a>行内公式</h4><p>行内公式只需要放在两个$直接就行。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$S = 1$</span><br></pre></td></tr></table></figure>

<h4 id="行间公式"><a href="#行间公式" class="headerlink" title="行间公式"></a>行间公式</h4><p>行间公式有两种一种是放在<code>$$...$$</code>中，还有一种是放在<code>\[...\]</code>中，推荐使用第二种。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">\[\begin&#123;aligned&#125;</span><br><span class="line">    S =&amp; \bar&#123;A&#125;\bar&#123;B&#125;Cin + \bar&#123;A&#125;B\bar&#123;Cin&#125; + A\bar&#123;B&#125;\bar&#123;Cin&#125; + ABCin \\</span><br><span class="line">    =&amp; (\bar&#123;A&#125;\bar&#123;B&#125; + AB)Cin + (\bar&#123;A&#125;B + A\bar&#123;B&#125;)\bar&#123;Cin&#125; \\</span><br><span class="line">    =&amp; (A\odot B)Cin + (A\oplus B)\bar&#123;Cin&#125; \\</span><br><span class="line">    =&amp; A \oplus B \oplus Cin</span><br><span class="line">\end&#123;aligned&#125;\]</span><br></pre></td></tr></table></figure>

<p>关于数学公式的符号可以用用这个网站：<a target="_blank" rel="noopener" href="https://latexlive.com/">LaTeX公式编辑器</a></p>
<h3 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h3><p>在插入图片前，我们需要导入相关的包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;graphicx&#125;</span><br></pre></td></tr></table></figure>

<h4 id="插入一张图片"><a href="#插入一张图片" class="headerlink" title="插入一张图片"></a>插入一张图片</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">\subsubsection&#123;电路图&#125;</span><br><span class="line">    如图\ref&#123;half-adder-logisim-1&#125;所示。%\ref 表示引用图片或者表格</span><br><span class="line">    \begin&#123;figure&#125;[htbp]%在这个区间放入图片</span><br><span class="line">        \centering</span><br><span class="line">        \includegraphics[width = .5\textwidth]&#123;half-adder-1.png&#125;%[]中表示图片显示大小，&#123;&#125;中填入图片地址    </span><br><span class="line">        \caption&#123;half-adder&#125;%设置图片名称</span><br><span class="line">        \label&#123;half-adder-logisim-1&#125;%创建标签名，在之后就可以使用\ref&#123;标签名&#125;引用图片</span><br><span class="line">    \end&#123;figure&#125;</span><br></pre></td></tr></table></figure>

<p>效果展示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/imagesimage-20210331123709331.png" alt="image-20210331123709331"><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/imagesimage-20210331123725694.png" alt="image-20210331123725694"></p>
<h4 id="在一排中插入两张图片"><a href="#在一排中插入两张图片" class="headerlink" title="在一排中插入两张图片"></a>在一排中插入两张图片</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;figure&#125;[htbp]</span><br><span class="line">    \centering</span><br><span class="line">    %一个subfigure就表示一张子图</span><br><span class="line">    \subfigure[half-adder-alter]&#123;</span><br><span class="line">        \begin&#123;minipage&#125;&#123;7cm&#125;</span><br><span class="line">        \centering</span><br><span class="line">        \includegraphics[scale=0.4]&#123;half-adder-2.png&#125;</span><br><span class="line">        \end&#123;minipage&#125;%</span><br><span class="line">    &#125;%</span><br><span class="line">    \subfigure[full-adder-alter]&#123;</span><br><span class="line">        \begin&#123;minipage&#125;&#123;7cm&#125;</span><br><span class="line">        \centering</span><br><span class="line">        \includegraphics[scale=0.3]&#123;full-adder-2.png&#125;</span><br><span class="line">        \end&#123;minipage&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    \caption&#123;根据芯片的结构改装之后的Logisim图&#125;</span><br><span class="line">    \label&#123;alter&#125;</span><br><span class="line">\end&#123;figure&#125;</span><br></pre></td></tr></table></figure>

<p>效果展示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/imagesimage-20210331130527907.png" alt="image-20210331130527907"></p>
<h3 id="插入表格"><a href="#插入表格" class="headerlink" title="插入表格"></a>插入表格</h3><p>在插入表格前，我们需要导入相关的包</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\usepackage&#123;booktabs&#125;</span><br></pre></td></tr></table></figure>

<h4 id="普通表格"><a href="#普通表格" class="headerlink" title="普通表格"></a>普通表格</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;center&#125;</span><br><span class="line">    \begin&#123;tabular&#125;&#123;llll&#125;%表示有4列左对齐的数据</span><br><span class="line">        \hline</span><br><span class="line">        姓名&amp;name&amp;学号&amp;id\\</span><br><span class="line">        \hline</span><br><span class="line">        专业&amp;cs&amp;年级&amp;grade\\</span><br><span class="line">        \hline</span><br><span class="line">    \end&#123;tabular&#125;</span><br><span class="line">\end&#123;center&#125;</span><br></pre></td></tr></table></figure>

<h4 id="三线法"><a href="#三线法" class="headerlink" title="三线法"></a>三线法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">\begin&#123;table&#125;[htbp]</span><br><span class="line">    \centering</span><br><span class="line">    \caption&#123;Half-adder Truth Table&#125;%设置表格名称</span><br><span class="line">    \label&#123;half-adder-1&#125;%创建标签名，在之后就可以使用\ref&#123;标签名&#125;引用表格</span><br><span class="line">    \begin&#123;tabular&#125;&#123;cccc&#125;%三线法绘制表格，&#123;&#125;中的字母表示每一列左对齐(l)，居中(c)，右对齐(r)，一个字母对应一列</span><br><span class="line">        \toprule</span><br><span class="line">        A&amp;B&amp;S&amp;Cout \\</span><br><span class="line">        \midrule</span><br><span class="line">        0&amp;0&amp;0&amp;0 \\</span><br><span class="line">        0&amp;1&amp;1&amp;0 \\</span><br><span class="line">        1&amp;0&amp;1&amp;0 \\</span><br><span class="line">        1&amp;1&amp;0&amp;1 \\</span><br><span class="line">        \bottomrule</span><br><span class="line">    \end&#123;tabular&#125;</span><br><span class="line">\end&#123;table&#125;</span><br></pre></td></tr></table></figure>

<p>效果展示：</p>
<p><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/imagesimage-20210331124046483.png" alt="image-20210331124046483"></p>
<h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>本文是我个人在学习和使用LaTex过程中的学习笔记，同时也可以作为新手的一个简单入门指南和教程，本文参考了很多大佬的博客，文章。这些都放在参考资料中了。</p>
<h2 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h2><p><a target="_blank" rel="noopener" href="https://www.moonpapers.com/manual/">LaTex手册</a></p>
<p><a target="_blank" rel="noopener" href="https://liam.page/2014/09/08/latex-introduction/">一份其实很短的 LaTeX 入门文档</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/68da21a1501a">latex 字体设置</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/f43198be/" data-id="ckw68jfld0009bgid3e4jf9rk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LaTex/" rel="tag">LaTex</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-CUDA Vector Addition" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/7c0a38a4/" class="article-date">
  <time datetime="2021-11-19T10:15:29.213Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Parallel-Computing/">Parallel Computing</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/7c0a38a4/">CUDA Vector Addition</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="CUDA-Vector-Addition"><a href="#CUDA-Vector-Addition" class="headerlink" title="CUDA Vector Addition"></a>CUDA Vector Addition</h1><h2 id="1-准备工作"><a href="#1-准备工作" class="headerlink" title="1 准备工作"></a>1 准备工作</h2><p>1）安装 xshell</p>
<p>2）远程连接服务器，打开 jupyter 服务</p>
<p>3）网页进入对应的 jupyter 服务</p>
<h2 id="2-Launcher-的介绍"><a href="#2-Launcher-的介绍" class="headerlink" title="2 Launcher 的介绍"></a>2 Launcher 的介绍</h2><p><img src="https://gitee.com/A-Egoist/image_bed/raw/master/blog_material/image-20211118202650402.png" alt="Launcher introduction"></p>
<h2 id="3-查看-GPU-设备信息"><a href="#3-查看-GPU-设备信息" class="headerlink" title="3 查看 GPU 设备信息"></a>3 查看 GPU 设备信息</h2><p>1）点击 Text File</p>
<p>2）在其中输入对应的代码</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;cuda_runtime.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;device_launch_parameters.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    cudaDeviceProp deviceProp;</span><br><span class="line">    <span class="built_in">cudaGetDeviceProperties</span>(&amp;deviceProp, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;设备名称与型号: %s\n&quot;</span>, deviceProp.name);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;显存大小: %d MB\n&quot;</span>, (<span class="keyword">int</span>)(deviceProp.totalGlobalMem / <span class="number">1024</span> / <span class="number">1024</span>));</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;含有的SM数量: %d\n&quot;</span>, deviceProp.multiProcessorCount);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;CUDA CORE数量: %d\n&quot;</span>, deviceProp.multiProcessorCount * <span class="number">32</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;计算能力: %d.%d\n&quot;</span>, deviceProp.major, deviceProp.minor);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>3）重命名文件，后缀名改为 .cu</p>
<p>4）在 Terminal 中输入以下指令编译代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc filename.cu -o filename.out</span><br></pre></td></tr></table></figure>

<p>5）在 Terminal 中输入一下指令运行可执行文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./filename.out</span><br></pre></td></tr></table></figure>

<h2 id="4-向量加法的实现"><a href="#4-向量加法的实现" class="headerlink" title="4 向量加法的实现"></a>4 向量加法的实现</h2><p>1）点击 Text File</p>
<p>2）在其中输入对应的代码<br><code>CPU version</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">50000</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">clock_t</span> start, end;</span><br><span class="line">    start = <span class="built_in">clock</span>();</span><br><span class="line">    <span class="keyword">float</span> a[N], b[N], c[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i ++) a[i] = <span class="number">0</span>, b[i] = <span class="number">0</span>;  <span class="comment">// initial</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i ++) c[i] = a[i] + b[i];  <span class="comment">// vector addition</span></span><br><span class="line">    end = <span class="built_in">clock</span>();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Vector addition on CPU use %.8f s.\n&quot;</span>, (<span class="keyword">float</span>)(end - start) / CLOCKS_PER_SEC);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>CUDA version</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;cuda_runtime.h&quot;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&quot;device_launch_parameters.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">50000</span>;</span><br><span class="line"><span class="function">__global__ <span class="keyword">void</span> <span class="title">additionKernelVersion1</span><span class="params">(<span class="keyword">float</span>*, <span class="keyword">float</span>*, <span class="keyword">float</span>*, <span class="keyword">const</span> <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function">__global__ <span class="keyword">void</span> <span class="title">additionKernelVersion2</span><span class="params">(<span class="keyword">float</span>*, <span class="keyword">float</span>*, <span class="keyword">float</span>*, <span class="keyword">const</span> <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function">__global__ <span class="keyword">void</span> <span class="title">additionKernelVersion3</span><span class="params">(<span class="keyword">float</span>*, <span class="keyword">float</span>*, <span class="keyword">float</span>*, <span class="keyword">const</span> <span class="keyword">int</span>)</span></span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">clock_t</span> start, end;</span><br><span class="line">    start = <span class="built_in">clock</span>();</span><br><span class="line">    <span class="keyword">float</span> a[N], b[N], c[N];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i ++) a[i] = <span class="number">0</span>, b[i] = <span class="number">0</span>;  <span class="comment">// 在 host 端初始化数据</span></span><br><span class="line">    <span class="keyword">float</span> *device_a, *device_b, *device_c = <span class="literal">NULL</span>;  </span><br><span class="line">    <span class="built_in">cudaMalloc</span>((<span class="keyword">void</span>**)&amp;device_a, <span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">float</span>) * size);  <span class="comment">// 在 device 分配内存</span></span><br><span class="line">    <span class="built_in">cudaMalloc</span>((<span class="keyword">void</span>**)&amp;device_b, <span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">float</span>) * size);  <span class="comment">// 在 device 分配内存</span></span><br><span class="line">    <span class="built_in">cudaMalloc</span>((<span class="keyword">void</span>**)&amp;device_c, <span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">float</span>) * size);  <span class="comment">// 在 device 分配内存</span></span><br><span class="line">    <span class="built_in">cudaMemcpy</span>(device_a, a, <span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">float</span>) * size, cudaMemcpyHostToDevice);  <span class="comment">// 将 host 的数据拷贝到 device</span></span><br><span class="line">    <span class="built_in">cudaMemcpy</span>(device_b, b, <span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">float</span>) * size, cudaMemcpyHostToDevice);  <span class="comment">// 将 host 的数据拷贝到 device</span></span><br><span class="line">    additionKernelVersion1&lt;&lt;&lt;<span class="built_in">ceil</span>(N / <span class="number">32</span>), <span class="number">32</span>&gt;&gt;&gt;(device_a, device_b, device_c, size);  <span class="comment">// 使用 kernel 进行运算</span></span><br><span class="line">    <span class="comment">// additionKernelVersion2&lt;&lt;&lt;ceil(N / 32), 32&gt;&gt;&gt;(device_a, device_b, device_c, size);  // 使用 kernel 进行运算</span></span><br><span class="line">    <span class="comment">// additionKernelVersion3&lt;&lt;&lt;ceil(N / 32), 32&gt;&gt;&gt;(device_a, device_b, device_c, size);  // 使用 kernel 进行运算</span></span><br><span class="line">    <span class="built_in">cudaMemcpy</span>(device_c, c, <span class="built_in"><span class="keyword">sizeof</span></span>(<span class="keyword">float</span>) * size, cudaMemcpyDeviceToHost);  <span class="comment">// 将 device 中的计算结果拷贝到 host</span></span><br><span class="line">    <span class="built_in">cudaFree</span>(device_a);  <span class="comment">// 释放 device 中的内存</span></span><br><span class="line">    <span class="built_in">cudaFree</span>(device_b);  <span class="comment">// 释放 device 中的内存</span></span><br><span class="line">    <span class="built_in">cudaFree</span>(device_c);  <span class="comment">// 释放 device 中的内存</span></span><br><span class="line">    end = <span class="built_in">clock</span>();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;Vector addition version 1 on GPU use %.8f s.\n&quot;</span>, (<span class="keyword">float</span>)(end - start) / CLOCKS_PER_SEC);</span><br><span class="line">    <span class="comment">// printf(&quot;Vector addition version 2 on GPU use %.8f s.\n&quot;, (float)(end - start) / CLOCKS_PER_SEC);</span></span><br><span class="line">    <span class="comment">// printf(&quot;Vector addition version 3 on GPU use %.8f s.\n&quot;, (float)(end - start) / CLOCKS_PER_SEC);</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function">__global__ <span class="keyword">void</span> <span class="title">additionKernelVersion1</span><span class="params">(<span class="keyword">float</span>* A, <span class="keyword">float</span>* B, <span class="keyword">float</span>* C, <span class="keyword">const</span> <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = blockIdx.x * blockDim.x + threadIdx.x;</span><br><span class="line">    C[i] = A[i] + B[i];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">__global__ <span class="keyword">void</span> <span class="title">additionKernelVersion2</span><span class="params">(<span class="keyword">float</span>* A, <span class="keyword">float</span>* B, <span class="keyword">float</span>* C, <span class="keyword">const</span> <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = (blockIdx.x * blockDim.x + threadIdx.x) * <span class="number">2</span>;</span><br><span class="line">    C[i] = A[i] + B[i];</span><br><span class="line">    C[i + <span class="number">1</span>] = A[i + <span class="number">1</span>] + B[i + <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function">__global__ <span class="keyword">void</span> <span class="title">additionKernelVersion3</span><span class="params">(<span class="keyword">float</span>* A, <span class="keyword">float</span>* B, <span class="keyword">float</span>* C, <span class="keyword">const</span> <span class="keyword">int</span> size)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> i = blockIdx.x * blockDim.x + threadIdx.x;</span><br><span class="line">    C[i] = A[i] + B[i];</span><br><span class="line">    C[i + blockDim.x] = A[i + blockDim.x] + B[i + blockDim.x];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>3）重命名文件，后缀名改为 .cu</p>
<p>4）在 Terminal 中输入以下指令编译代码</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nvcc vector_addition.cu -o vector_addition.out</span><br></pre></td></tr></table></figure>

<p>5）在 Terminal 中输入一下指令运行可执行文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./vector_addition.out</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/7c0a38a4/" data-id="ckw68jfle000bbgidg9eshub9" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/CUDA/" rel="tag">CUDA</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Codeforces Round #706 (Div. 2)" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/682df6fc/" class="article-date">
  <time datetime="2021-11-19T10:15:29.212Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/">刷题记录</a>►<a class="article-category-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/ACM/">ACM</a>►<a class="article-category-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/ACM/%E7%AE%97%E6%B3%95/">算法</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/682df6fc/">Codeforces Round 706 (Div. 2)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="Codeforces-Round-706-Div-2"><a href="#Codeforces-Round-706-Div-2" class="headerlink" title="Codeforces Round #706 (Div. 2)"></a><a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496">Codeforces Round #706 (Div. 2)</a></h1><h2 id="A-Split-it"><a href="#A-Split-it" class="headerlink" title="A Split it!"></a>A <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496/problem/A">Split it!</a></h2><p>Tag：签到、思维</p>
<p>题意：</p>
<p>给定一个字符串s，参数k，字符串长度为n，问是否存在k+1个子串ai使得 s = a1 + a2 + a3 + ··· + ak + ak + 1 + r(ak) + r(ak - 1) + ··· + r(a2) + r(a1)。</p>
<p>思路：</p>
<p>首先证明：r(a3) + r(a2) + r(a1) = r(a3 + a2 + a1)，然后我们就可以得到 a1 + a2 + a3 + a4 + ··· + ak = r(ak) + ··· + r(a4) + r(a3) + r(a2) + r(a1)。然后使用双指针算法遍历，判断首尾对应的字符是否相同，若相同则计数，不相同则停止遍历。最后，如果计数大于k，则存在，否则就不存在。</p>
<p>题解：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> t, k, n;</span><br><span class="line"><span class="built_in">string</span> s;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t --)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k &gt;&gt; s;</span><br><span class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, j = n - <span class="number">1</span>, cnt = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (i, j;; i ++, j --)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[i] != s[j]) <span class="keyword">break</span>;</span><br><span class="line">            cnt ++;</span><br><span class="line">            <span class="keyword">if</span> (i + <span class="number">1</span> &gt;= j - <span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (cnt == k &amp;&amp; j - i == <span class="number">1</span>) <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (cnt &gt;= k) <span class="built_in">puts</span>(<span class="string">&quot;YES&quot;</span>);</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">puts</span>(<span class="string">&quot;NO&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="B-Max-and-Mex"><a href="#B-Max-and-Mex" class="headerlink" title="B Max and Mex"></a>B <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496/problem/B">Max and Mex</a></h2><p>Tag：思维、二分</p>
<p>题意：</p>
<p>给定一个集合S，和一个操作数k，每次将 mex 和 max 的和的一半向上取整后加入集合，其中mex表示集合中不存在的最小非负整数，max表示集合中的最大数，最后输出集合中数字的个数。</p>
<p>思路：</p>
<p>读入输入之后，先特判一下k的值：</p>
<p>如果k为0，则直接输出n；</p>
<p>如果k不为0，则再从mex和max的大小来看，推导如图：</p>
<p><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/images7C3355583A1E00F2D9A3371B1F8E44F7.png"></p>
<p>题解：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-4</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e5</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> t, n;</span><br><span class="line">ll k;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; t;</span><br><span class="line">    <span class="keyword">while</span> (t --)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> s[N];</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; k;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) <span class="built_in">cin</span> &gt;&gt; s[i];</span><br><span class="line">        sort(s, s + n);</span><br><span class="line">        <span class="keyword">int</span> b = <span class="number">0</span>, a = s[n - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= n; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &lt; s[i] || i == n)</span><br><span class="line">            &#123;</span><br><span class="line">                b = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (b == n) <span class="built_in">cout</span> &lt;&lt; n + k &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (b &lt; a)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> c = (<span class="number">1.0</span> * (a + b) / <span class="number">2</span> + <span class="number">0.5</span>);</span><br><span class="line">            <span class="keyword">int</span> index = lower_bound(s, s + n, c) - s;</span><br><span class="line">            <span class="keyword">if</span> (s[index] == c) <span class="built_in">cout</span> &lt;&lt; n &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; n + <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="C-Diamond-Miner"><a href="#C-Diamond-Miner" class="headerlink" title="C Diamond Miner"></a>C <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496/problem/C">Diamond Miner</a></h2><p>Tag：贪心 </p>
<p>题意：</p>
<p>给定n个矿工和n个矿脉的位置，矿工在y轴，矿脉在x轴，(0, 0)位置没有矿工也没有矿脉；矿工和矿脉一一匹配，求矿工到矿脉的距离总和的最小值。</p>
<p>思路：</p>
<p>用两个数组分别存矿工和矿脉，读取数据的时候在负半轴的数据映射到正半轴，然后从小到大排序，相同序号的矿工和矿脉配对计算距离然后求和。证明：三角形两边之和大于第三边</p>
<img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/images62A128D7BB385BD58B95F9DC897BD192.png" style="zoom:50%;" />

<p>题解：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;math.h&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">double</span> eps = <span class="number">1e-4</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">int</span> t, n;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;t);</span><br><span class="line">    <span class="keyword">while</span> (t --)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>, &amp;n);</span><br><span class="line">        <span class="built_in">vector</span>&lt;ll&gt; a, b;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">2</span> * n; i ++)</span><br><span class="line">        &#123;</span><br><span class="line">            ll x, y;</span><br><span class="line">            <span class="built_in">scanf</span>(<span class="string">&quot;%lld%lld&quot;</span>, &amp;x, &amp;y);</span><br><span class="line">            <span class="keyword">if</span> (!x) a.push_back(<span class="built_in">abs</span>(y));</span><br><span class="line">            <span class="keyword">if</span> (!y) b.push_back(<span class="built_in">abs</span>(x));</span><br><span class="line">        &#125;</span><br><span class="line">        sort(a.begin(), a.end()), sort(b.begin(), b.end());</span><br><span class="line">        <span class="keyword">double</span> ans = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++) </span><br><span class="line">            ans += <span class="built_in">sqrt</span>(<span class="keyword">double</span>(a[i] * a[i] + b[i] * b[i]));</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%.15f\n&quot;</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="D-Let’s-Go-Hiking"><a href="#D-Let’s-Go-Hiking" class="headerlink" title="D Let’s Go Hiking"></a>D <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496/problem/D">Let’s Go Hiking</a></h2><p>Tag：博弈、思维</p>
<p>题意：</p>
<p>给定一个整数序列，Qingshan选择该序列中的一个位置，然后告诉Daniel，Daniel再选择一个位置。游戏开始，每次Qingshan的要选择一个相邻且低于当前位置的位置行动，Daniel选择一个相邻且高于当前位置的位置行动，重复进行，无法行动的人败。问：当给定一个序列p的时候，Qingshan获胜的方案数是多少个。</p>
<p>思路：</p>
<p>直接上分析图</p>
<p><img src="https://cdn.jsdelivr.net/gh/A-Egoist/Blog-Figure-bed/images737BE4FC2FE5DD66CBFB2C2526A202D3.png"></p>
<p>题解：</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> INF = <span class="number">0x3f3f3f3f</span>;</span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">typedef</span> <span class="built_in">pair</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; pii;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> N = <span class="number">1e6</span> + <span class="number">10</span>;</span><br><span class="line"><span class="keyword">int</span> n, a[N], l[N], r[N], flag, cnt, top;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a[i];</span><br><span class="line">        l[i] = <span class="number">1</span>, r[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt; a[i - <span class="number">1</span>]) l[i] += l[i - <span class="number">1</span>];</span><br><span class="line">        top = max(top, l[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = n - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i --)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (a[i] &gt; a[i + <span class="number">1</span>]) r[i] += r[i + <span class="number">1</span>];</span><br><span class="line">        top = max(top, r[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i ++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (l[i] == r[i] &amp;&amp; r[i] == top) flag ++;</span><br><span class="line">        <span class="keyword">if</span> (l[i] == top) cnt ++;</span><br><span class="line">        <span class="keyword">if</span> (r[i] == top) cnt ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (flag == <span class="number">1</span> &amp;&amp; cnt == <span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (top % <span class="number">2</span> == <span class="number">1</span>) <span class="built_in">cout</span> &lt;&lt; <span class="number">1</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">else</span> <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="E-Garden-of-the-Sun"><a href="#E-Garden-of-the-Sun" class="headerlink" title="E Garden of the Sun"></a>E <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496/problem/E">Garden of the Sun</a></h2><p>Tag：</p>
<p>题意：</p>
<p>思路：</p>
<p>题解：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="F-BFS-Trees"><a href="#F-BFS-Trees" class="headerlink" title="F BFS Trees"></a>F <a target="_blank" rel="noopener" href="https://codeforces.com/contest/1496/problem/F">BFS Trees</a></h2><p>Tag：</p>
<p>题意：</p>
<p>思路：</p>
<p>题解：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/682df6fc/" data-id="ckw68jflg000gbgidctyw2y4h" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%8D%9A%E5%BC%88/" rel="tag">博弈</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E6%80%9D%E7%BB%B4/" rel="tag">思维</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Attention is all you need" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/a44b8419/" class="article-date">
  <time datetime="2021-11-12T10:16:46.000Z" itemprop="datePublished">2021-11-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/DeepLearning/">DeepLearning</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/posts/a44b8419/">Attention is all you need</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1-Attention"><a href="#1-Attention" class="headerlink" title="1 Attention"></a>1 Attention</h2><h3 id="1-1-Attention-思想"><a href="#1-1-Attention-思想" class="headerlink" title="1.1 Attention 思想"></a>1.1 Attention 思想</h3><p>在心理学框架中，人类根据<strong>随意(有意识)线索</strong>和<strong>不随意(无意识)线索</strong>选择注意点。</p>
<p>卷积、全连接层、池化层都只考虑不随意线索</p>
<p>注意力机制则显示的考虑随意线索</p>
<ul>
<li>随意线索被称为查询(query)</li>
<li>每个输入是一个值(value)和不随意线索(key)的对</li>
<li>通过注意力池化层来有偏向性的选择某些输入</li>
</ul>
<h3 id="1-2-非参注意力池化层"><a href="#1-2-非参注意力池化层" class="headerlink" title="1.2 非参注意力池化层"></a>1.2 非参注意力池化层</h3><p>给定数据 $(x_i,x_j),i=1,\dots,n$，要想根据 query 将数据进行池化</p>
<p>最简单的方案——平均池化：<br>$$<br>f(x)=\frac{1}{n}\sum_iy_i\tag{1}<br>$$<br><strong>Nadaraya-Waston 核回归</strong>：<br>$$<br>f(x)=\sum_{i=1}^{n} \frac{K\left(x-x_{i}\right)}{\sum_{j=1}^{n} K\left(x-x_{j}\right)} y_{i}\tag{2}<br>$$<br>其中，$f(\cdot)$ 中的 $x$ 表示 query，$K(\cdot)$ 表示核函数。</p>
<p>若公式 $(2)$ 中的 $K(\cdot)$ 使用的是高斯核：$K(\mu)=\frac{1}{\sqrt{2\pi}}\exp(-\frac{\mu^2}{2})$，那么可得：<br>$$<br>\begin{aligned}<br>f(x) &amp;=\sum_{i=1}^{n} \frac{\exp \left(-\frac{1}{2}\left(x-x_{i}\right)^{2}\right)}{\sum_{j=1}^{n} \exp \left(-\frac{1}{2}\left(x-x_{j}\right)^{2}\right)} y_{i} \<br>&amp;=\sum_{i=1}^{n} \operatorname{softmax}\left(-\frac{1}{2}\left(x-x_{i}\right)^{2}\right) y_{i}<br>\end{aligned}\tag{3}<br>$$</p>
<h3 id="1-3-参数化的注意力机制"><a href="#1-3-参数化的注意力机制" class="headerlink" title="1.3 参数化的注意力机制"></a>1.3 参数化的注意力机制</h3><p>在公式 $(3)$ 的基础上引入可以学习的参数 $w$：<br>$$<br>f(x)=\sum_{i=1}^{n} \operatorname{softmax}\left(-\frac{1}{2}\left(\left(x-x_{i}\right) w\right)^{2}\right) y_{i}\tag{4}<br>$$</p>
<h3 id="1-4-注意力分数"><a href="#1-4-注意力分数" class="headerlink" title="1.4 注意力分数"></a>1.4 注意力分数</h3><p>由公式 $(4)$ 可得：<br>$$<br>f(x)=\sum_{i} \alpha\left(x, x_{i}\right) y_{i}=\sum_{i=1}^{n} \operatorname{softmax}\left(-\frac{1}{2}\left(x-x_{i}\right)^{2}\right) y_{i}\tag{5}<br>$$<br>其中 $\alpha(\cdot)$ 表示注意力权重，根据输入的 query 和 key 来计算当前 value 的权重；$-\frac{1}{2}\left(x-x_{i}\right)^{2}$ 表示的就是注意力分数。</p>
<p>计算注意力的过程如图所示：</p>
<p><img src="https://gitee.com/A-Egoist/image_bed/raw/master/blog_material/attention-output-16356733720891.svg"></p>
<p><strong>拓展到高纬度</strong></p>
<p>假设 query $\mathbf{q} \in \mathbb{R}^{q}$，$m$ 对 key-value $(\mathbf{k}<em>{1}, \mathbf{v}</em>{1}),\dots,$ 这里 $\mathbf{k}<em>{i} \in \mathbb{R}^{k}$，$\mathbf{v}</em>{i} \in \mathbb{R}^{v}$ </p>
<p>注意力池化层：<br>$$<br>\begin{array}{c}<br>f\left(\mathbf{q},\left(\mathbf{k}<em>{1}, \mathbf{v}</em>{1}\right), \ldots,\left(\mathbf{k}<em>{m}, \mathbf{v}</em>{m}\right)\right)=\sum_{i=1}^{m} \alpha\left(\mathbf{q}, \mathbf{k}<em>{i}\right) \mathbf{v}</em>{i} \in \mathbb{R}^{v} \<br>\alpha\left(\mathbf{q}, \mathbf{k}<em>{i}\right)=\operatorname{softmax}\left(a\left(\mathbf{q}, \mathbf{k}</em>{i}\right)\right)=\frac{\exp \left(a\left(\mathbf{q}, \mathbf{k}<em>{i}\right)\right)}{\sum</em>{j=1}^{m} \exp \left(a\left(\mathbf{q}, \mathbf{k}_{j}\right)\right)} \in \mathbb{R}<br>\end{array}\tag{6}<br>$$<br>其中 $\operatorname{softmax}(\cdot)$ 中的参数 $a(\mathbf{q},\mathbf{k}_i)$ 表示注意力分数。</p>
<p>从公式 $(6)$ 可以看出，我们应该关注 $a(\cdot)$ 怎么设计，接下来介绍两种思路：</p>
<h4 id="1-4-1-Additive-Attention"><a href="#1-4-1-Additive-Attention" class="headerlink" title="1.4.1 Additive Attention"></a>1.4.1 Additive Attention</h4><p>可学参数：$\mathbf{W}<em>{k}\in\mathbb{R}^{h\times k},\mathbf{W}</em>{q}\in\mathbb{R}^{h\times q},\mathbf{v}\in \mathbb{R}^{h}$<br>$$<br>a(\mathbf{k}, \mathbf{q})=\mathbf{v}^{T} \tanh \left(\mathbf{W}<em>{k} \mathbf{k}+\mathbf{W}</em>{q} \mathbf{q}\right)<br>$$<br>其中 $\operatorname{tanh}(\cdot)$ 表示 tanh 激活函数。</p>
<p>等价于将 key 和 value 合并起来后放到一个隐藏层大小为 h 输出大小为 1 的单隐藏层 MLP</p>
<h4 id="1-4-2-Scaled-Dot-Product-Attention"><a href="#1-4-2-Scaled-Dot-Product-Attention" class="headerlink" title="1.4.2 Scaled Dot-Product Attention"></a>1.4.2 Scaled Dot-Product Attention</h4><p>如果 query 和 key 都是同样的长度 $\mathbf{q},\mathbf{k}_i\in\mathbb{R}^d$，那么可以：<br>$$<br>a\left(\mathbf{q}, \mathbf{k}_i\right)=\left\langle\mathbf{q}, \mathbf{k}_i\right\rangle/\sqrt{d}<br>$$<br>向量化版本</p>
<p>$\mathbf{Q} \in \mathbb{R}^{n \times d}, \mathbf{K} \in \mathbb{R}^{m \times d}, \mathbf{V} \in \mathbb{R}^{m \times v}$</p>
<p>注意力分数：$a(\mathbf{Q}, \mathbf{K})=\mathbf{Q K}^{T} / \sqrt{d} \in \mathbb{R}^{n \times m}$</p>
<p>注意力池化：$f=\operatorname{softmax}(a(\mathbf{Q}, \mathbf{K})) \mathbf{V} \in \mathbb{R}^{n \times v}$</p>
<h2 id="2-Self-Attention"><a href="#2-Self-Attention" class="headerlink" title="2 Self Attention"></a>2 Self Attention</h2><p>给定序列 $\mathbf{x}<em>{1},\ldots,\mathbf{x}</em>{n},\forall \mathbf{x}<em>{i}\in\mathbb{R}^{d}$，自注意力池化层将 $\mathbf{x}</em>{i}$ 当做 key, value, query 来对序列抽取特征得到  $\mathbf{y}<em>{1},\ldots,\mathbf{y}</em>{n}$，这里<br>$$<br>\mathbf{y}<em>{i}=f\left(\mathbf{x}</em>{i},\left(\mathbf{x}<em>{1}, \mathbf{x}</em>{1}\right), \ldots,\left(\mathbf{x}<em>{n}, \mathbf{x}</em>{n}\right)\right) \in \mathbb{R}^{d}<br>$$<br><img src="https://gitee.com/A-Egoist/image_bed/raw/master/blog_material/image-20211112182605268.png" alt="self-attention"></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/a44b8419/" data-id="ckw68jflc0007bgidc4ou9u2k" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/attention/" rel="tag">attention</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/transformer/" rel="tag">transformer</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页 &amp;raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DeepLearning/">DeepLearning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hello/">Hello</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Log/">Log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Parallel-Computing/">Parallel Computing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/%E7%88%AC%E8%99%AB/">爬虫</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/STL/">STL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/STL/C/">C++</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/">刷题记录</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/ACM/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%88%AC%E8%99%AB/">爬虫</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%88%AC%E8%99%AB/Python/">Python</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/">数据结构及算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E8%AE%BA/">数论</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/">TensorFlow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%80%92%E6%8E%A8/">递推</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/" rel="tag">BFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BeautifulSoup%E5%BA%93/" rel="tag">BeautifulSoup库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNN/" rel="tag">CNN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CUDA/" rel="tag">CUDA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LaTex/" rel="tag">LaTex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MNIST/" rel="tag">MNIST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/" rel="tag">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/attention/" rel="tag">attention</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdu/" rel="tag">hdu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/random%E5%BA%93/" rel="tag">random库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests%E5%BA%93/" rel="tag">requests库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time%E5%BA%93/" rel="tag">time库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/transformer/" rel="tag">transformer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordcloud%E5%BA%93/" rel="tag">wordcloud库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%8B%E7%BB%8D/" rel="tag">介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" rel="tag">前缀和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%BC%88/" rel="tag">博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%BD%A2%E5%BA%93/" rel="tag">图形库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%83%E6%B0%8F%E7%AD%9B%E6%B3%95/" rel="tag">埃氏筛法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%AE%E5%88%86/" rel="tag">差分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E7%BB%B4/" rel="tag">思维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E8%AE%BA/" rel="tag">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">日志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91/" rel="tag">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AC%A7%E6%8B%89%E7%AD%9B%E6%B3%95/" rel="tag">欧拉筛法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E5%88%92/" rel="tag">计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%94%99%E6%8E%92%E5%85%AC%E5%BC%8F/" rel="tag">错排公式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/tags/BeautifulSoup%E5%BA%93/" style="font-size: 10px;">BeautifulSoup库</a> <a href="/tags/CNN/" style="font-size: 10px;">CNN</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/tags/LaTex/" style="font-size: 10px;">LaTex</a> <a href="/tags/MNIST/" style="font-size: 10px;">MNIST</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/attention/" style="font-size: 10px;">attention</a> <a href="/tags/hdu/" style="font-size: 10px;">hdu</a> <a href="/tags/random%E5%BA%93/" style="font-size: 10px;">random库</a> <a href="/tags/requests%E5%BA%93/" style="font-size: 10px;">requests库</a> <a href="/tags/time%E5%BA%93/" style="font-size: 10px;">time库</a> <a href="/tags/transformer/" style="font-size: 10px;">transformer</a> <a href="/tags/wordcloud%E5%BA%93/" style="font-size: 10px;">wordcloud库</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 10px;">二分</a> <a href="/tags/%E4%BB%8B%E7%BB%8D/" style="font-size: 10px;">介绍</a> <a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 12.5px;">前缀和</a> <a href="/tags/%E5%8D%9A%E5%BC%88/" style="font-size: 10px;">博弈</a> <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%BA%93/" style="font-size: 10px;">图形库</a> <a href="/tags/%E5%9F%83%E6%B0%8F%E7%AD%9B%E6%B3%95/" style="font-size: 10px;">埃氏筛法</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 17.5px;">基础</a> <a href="/tags/%E5%AE%9E%E8%B7%B5/" style="font-size: 15px;">实践</a> <a href="/tags/%E5%B7%AE%E5%88%86/" style="font-size: 10px;">差分</a> <a href="/tags/%E6%80%9D%E7%BB%B4/" style="font-size: 10px;">思维</a> <a href="/tags/%E6%95%B0%E8%AE%BA/" style="font-size: 10px;">数论</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 10px;">日志</a> <a href="/tags/%E6%A0%91/" style="font-size: 10px;">树</a> <a href="/tags/%E6%AC%A7%E6%8B%89%E7%AD%9B%E6%B3%95/" style="font-size: 10px;">欧拉筛法</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">测试</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">笔记</a> <a href="/tags/%E8%AE%A1%E5%88%92/" style="font-size: 10px;">计划</a> <a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 10px;">贪心</a> <a href="/tags/%E9%94%99%E6%8E%92%E5%85%AC%E5%BC%8F/" style="font-size: 10px;">错排公式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/posts/b68f41a0/">算法竞赛进阶指南学习笔记</a>
          </li>
        
          <li>
            <a href="/posts/374e1302/">数学知识</a>
          </li>
        
          <li>
            <a href="/posts/43934f6d/">搜索</a>
          </li>
        
          <li>
            <a href="/posts/b8859ab5/">二维前缀和</a>
          </li>
        
          <li>
            <a href="/posts/fc45aa12/">SQL Sever 学习笔记——图形化创建数据库</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Amonologue<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>