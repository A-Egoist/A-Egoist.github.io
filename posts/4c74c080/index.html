<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>SQL Server 学习笔记——T-SQL | A-Egoist</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="SQL学习笔记一、SQL概述SQL按其功能可以分为三大部分：数据定义功能、数据操纵功能和数据控制功能DDL、DML、DCL    SQL功能 命令动词    数据定义 CREATE、ALTER、DROP   数据操纵 SELECT、INSERT、UPDATE、DELETE   数据控制 GRANT、REVOKE   二、SQL数据定义在SQL Server中，我们点击“新建查询”，在弹出的窗口中键">
<meta property="og:type" content="article">
<meta property="og:title" content="SQL Server 学习笔记——T-SQL">
<meta property="og:url" content="http://a-egoist.com/posts/4c74c080/index.html">
<meta property="og:site_name" content="A-Egoist">
<meta property="og:description" content="SQL学习笔记一、SQL概述SQL按其功能可以分为三大部分：数据定义功能、数据操纵功能和数据控制功能DDL、DML、DCL    SQL功能 命令动词    数据定义 CREATE、ALTER、DROP   数据操纵 SELECT、INSERT、UPDATE、DELETE   数据控制 GRANT、REVOKE   二、SQL数据定义在SQL Server中，我们点击“新建查询”，在弹出的窗口中键">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129135250537.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129131947144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129130955662.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129131113123.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129132917899.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129133300677.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129133905996.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129134608274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020112913504458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129135406729.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129135622277.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020112914000774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129142101770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129143229352.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129142126453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129143241897.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129142141266.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020112914320043.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/2020112914412058.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129155730737.png">
<meta property="og:image" content="https://img-blog.csdnimg.cn/20201129160848518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70">
<meta property="article:published_time" content="2021-11-19T10:15:29.234Z">
<meta property="article:modified_time" content="2021-03-13T09:19:21.071Z">
<meta property="article:author" content="Amonologue">
<meta property="article:tag" content="笔记">
<meta property="article:tag" content="基础">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img-blog.csdnimg.cn/20201129135250537.png">
  
    <link rel="alternate" href="/atom.xml" title="A-Egoist" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  
<link rel="stylesheet" href="/css/style.css">

<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">A-Egoist</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://a-egoist.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-SQL Server 学习笔记——T-SQL" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/posts/4c74c080/" class="article-date">
  <time datetime="2021-11-19T10:15:29.234Z" itemprop="datePublished">2021-11-19</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      SQL Server 学习笔记——T-SQL
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="SQL学习笔记"><a href="#SQL学习笔记" class="headerlink" title="SQL学习笔记"></a>SQL学习笔记</h1><h2 id="一、SQL概述"><a href="#一、SQL概述" class="headerlink" title="一、SQL概述"></a>一、SQL概述</h2><p>SQL按其功能可以分为三大部分：<br><font color=green size=5 >数据定义</font>功能、<font color=green size=5 >数据操纵</font>功能和<font color=green size=5 >数据控制</font>功能<br>DDL、DML、DCL</p>
<table>
<thead>
<tr>
<th>SQL功能</th>
<th>命令动词</th>
</tr>
</thead>
<tbody><tr>
<td>数据定义</td>
<td>CREATE、ALTER、DROP</td>
</tr>
<tr>
<td>数据操纵</td>
<td>SELECT、INSERT、UPDATE、DELETE</td>
</tr>
<tr>
<td>数据控制</td>
<td>GRANT、REVOKE</td>
</tr>
</tbody></table>
<h2 id="二、SQL数据定义"><a href="#二、SQL数据定义" class="headerlink" title="二、SQL数据定义"></a>二、SQL数据定义</h2><p>在SQL Server中，我们点击“新建查询”，在弹出的窗口中键入sql语言<br><img src="https://img-blog.csdnimg.cn/20201129135250537.png" alt="在这里插入图片描述"></p>
<h3 id="1、创建数据库"><a href="#1、创建数据库" class="headerlink" title="1、创建数据库"></a>1、创建数据库</h3><p>基本格式：<br><img src="https://img-blog.csdnimg.cn/20201129131947144.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>样例：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> DATABASE Demo</span><br><span class="line"><span class="keyword">ON</span></span><br><span class="line">(NAME<span class="operator">=</span>Demo_data,<span class="comment">--主文件名称</span></span><br><span class="line">FILENAME<span class="operator">=</span><span class="string">&#x27;D:\Test\Demo_data.mdf&#x27;</span>,<span class="comment">--主文件的绝对路径</span></span><br><span class="line">SIZE<span class="operator">=</span><span class="number">1</span>,<span class="comment">--主文件的大小</span></span><br><span class="line">MAXSIZE<span class="operator">=</span><span class="number">10</span>,<span class="comment">--最大值</span></span><br><span class="line">FILEGROWTH<span class="operator">=</span><span class="number">1</span><span class="comment">--数值型增长方式 </span></span><br><span class="line"><span class="comment">--FILEGROWTH=10%--百分比增长</span></span><br><span class="line">)</span><br><span class="line">LOG <span class="keyword">ON</span></span><br><span class="line">(NAME<span class="operator">=</span>Demo_log,<span class="comment">--日志文件名称</span></span><br><span class="line">FILENAME<span class="operator">=</span><span class="string">&#x27;D:\Test\Demo_log.ldf&#x27;</span>,<span class="comment">--日志文件的绝对路径</span></span><br><span class="line">SIZE<span class="operator">=</span><span class="number">1</span>,<span class="comment">--日志文件的大小</span></span><br><span class="line">MAXSIZE<span class="operator">=</span><span class="number">10</span>,<span class="comment">--最大值</span></span><br><span class="line">FILEGROWTH<span class="operator">=</span><span class="number">1</span><span class="comment">--数值型增长方式 </span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p>效果：<br><img src="https://img-blog.csdnimg.cn/20201129130955662.png" alt="在这里插入图片描述"><br><img src="https://img-blog.csdnimg.cn/20201129131113123.png" alt="在这里插入图片描述"></p>
<h3 id="2、修改数据库"><a href="#2、修改数据库" class="headerlink" title="2、修改数据库"></a>2、修改数据库</h3><p>修改数据库名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE Demo</span><br><span class="line">MODIFY NAME<span class="operator">=</span>New_Demo</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129132917899.png" alt="在这里插入图片描述"><br>修改文件名：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE New_Demo MODIFY FILE(NAME<span class="operator">=</span>Demo_data,NEWNAME<span class="operator">=</span>Demo)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129133300677.png" alt="在这里插入图片描述"></p>
<p>添加新文件：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE New_Demo</span><br><span class="line"><span class="keyword">ADD</span> FILE</span><br><span class="line">(NAME <span class="operator">=</span> Demo_ndf,</span><br><span class="line">FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\Test\Demo_ndf.ndf&#x27;</span>,</span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">5</span>MB,</span><br><span class="line">MAXSIZE <span class="operator">=</span> <span class="number">10</span>MB,</span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">1</span>MB</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129133905996.png" alt="在这里插入图片描述"><br>添加日志文件</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">ALTER</span> DATABASE New_Demo</span><br><span class="line"><span class="keyword">ADD</span> LOG FILE</span><br><span class="line">(NAME <span class="operator">=</span> Demo_new_log,</span><br><span class="line">FILENAME <span class="operator">=</span> <span class="string">&#x27;D:\Test\Demo_new_log.ldf&#x27;</span>,</span><br><span class="line">SIZE <span class="operator">=</span> <span class="number">1</span>MB,</span><br><span class="line">MAXSIZE <span class="operator">=</span> <span class="number">10</span>MB,</span><br><span class="line">FILEGROWTH <span class="operator">=</span> <span class="number">1</span>MB</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<h3 id="3、删除数据库"><a href="#3、删除数据库" class="headerlink" title="3、删除数据库"></a>3、删除数据库</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> DATABASE 数据库<span class="number">1</span>[,数据库<span class="number">2</span>，数据库<span class="number">3</span>]<span class="comment">--可以同时删除多个数据库</span></span><br><span class="line"><span class="comment">--但是用sql语句删除数据库的时候不会有确认信息，所以请小心使用</span></span><br></pre></td></tr></table></figure>
<h3 id="4、创建基本表"><a href="#4、创建基本表" class="headerlink" title="4、创建基本表"></a>4、创建基本表</h3><p>定义基本表的一般格式：<br><img src="https://img-blog.csdnimg.cn/20201129134608274.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br><font color=red size=6>warning</font><br>在SQL Server 建立新建查询的时候注意手动选择数据库<br><img src="https://img-blog.csdnimg.cn/2020112913504458.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>样例：<br><img src="https://img-blog.csdnimg.cn/20201129135406729.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"><br>根据上图所示内容，我们可以创建一个Student表：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>),</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">10</span>),</span><br><span class="line">Ssex <span class="type">char</span>(<span class="number">2</span>),</span><br><span class="line">Sage tinyint,</span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129135622277.png" alt="在这里插入图片描述"><br>在上面的例子中，我们创建表格的时候没有确立约束条件。<br>一个表的约束条件分为两类：<font color=blue size=5>列级约束条件</font>和<font color=blue size=5>表级约束条件</font>。</p>
<h4 id="1-列级约束条件"><a href="#1-列级约束条件" class="headerlink" title="1)列级约束条件"></a>1)列级约束条件</h4><p><img src="https://img-blog.csdnimg.cn/2020112914000774.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Sname <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span><span class="comment">--取值非空</span></span><br><span class="line">Sage tinyint <span class="keyword">DEFAULT</span> <span class="number">18</span><span class="comment">--默认值约束</span></span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">UNIQUE</span><span class="comment">--限制列取值不重复</span></span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">CHECK</span>(Sdept<span class="operator">=</span><span class="string">&#x27;CS&#x27;</span> <span class="keyword">OR</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span>)<span class="comment">--限制列的取值范围</span></span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">PRIMARY</span> KEY<span class="comment">--指定本列为主码</span></span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">FOREIGN</span> KEY (Sdept) <span class="keyword">REFERENCES</span> SC(Sdept)<span class="comment">--外码约束</span></span><br></pre></td></tr></table></figure>
<h4 id="2-表级约束条件"><a href="#2-表级约束条件" class="headerlink" title="2)表级约束条件"></a>2)表级约束条件</h4><p>UNIQUE表级约束：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">UNIQUE</span>(Sno,Sname)<span class="comment">--表示(Sno,Sname)这样的组合不允许重复</span></span><br><span class="line"><span class="comment">--但是在Sno或Sname的列中可以重复</span></span><br></pre></td></tr></table></figure>
<p>PRIMARY表级约束：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">PRIMARY</span> KEY(Sno)<span class="comment">--和在Sno进行列定义相同</span></span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(Sno,Sname)<span class="comment">--以(Sno,Sname)这样的组合作为表的主码</span></span><br></pre></td></tr></table></figure>
<h4 id="3-实例"><a href="#3-实例" class="headerlink" title="3)实例"></a>3)实例</h4><p><img src="https://img-blog.csdnimg.cn/20201129142101770.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Student</span><br><span class="line">(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">PRIMARY</span> KEY,</span><br><span class="line">Sname <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Ssex <span class="type">char</span>(<span class="number">2</span>) <span class="keyword">CHECK</span>(Ssex<span class="operator">=</span><span class="string">&#x27;男&#x27;</span> <span class="keyword">OR</span> Ssex<span class="operator">=</span><span class="string">&#x27;女&#x27;</span>),</span><br><span class="line">Sage tinyint <span class="keyword">CHECK</span>(Sage<span class="operator">&gt;=</span><span class="number">15</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;=</span><span class="number">45</span>),</span><br><span class="line">Sdept <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">DEFAULT</span> <span class="string">&#x27;计算机系&#x27;</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129143229352.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201129142126453.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Course</span><br><span class="line">(</span><br><span class="line">Cno <span class="type">char</span>(<span class="number">10</span>),</span><br><span class="line">Cname <span class="type">char</span>(<span class="number">20</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Ccredit tinyint <span class="keyword">CHECK</span>(Ccredit<span class="operator">&gt;</span><span class="number">0</span>),</span><br><span class="line">Semester tinyint <span class="keyword">CHECK</span>(Semester<span class="operator">&gt;</span><span class="number">0</span>),</span><br><span class="line"><span class="keyword">Period</span> <span class="type">int</span> <span class="keyword">CHECK</span>(<span class="keyword">Period</span><span class="operator">&gt;</span><span class="number">0</span>),</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(Cno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/20201129143241897.png" alt="在这里插入图片描述"></p>
<p><img src="https://img-blog.csdnimg.cn/20201129142141266.png" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> SC</span><br><span class="line">(</span><br><span class="line">Sno <span class="type">char</span>(<span class="number">7</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Cno <span class="type">char</span>(<span class="number">10</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">Grade tinyint,</span><br><span class="line"><span class="keyword">CHECK</span>(Grade<span class="operator">&gt;=</span><span class="number">0</span> <span class="keyword">AND</span> Grade <span class="operator">&lt;=</span><span class="number">100</span>),</span><br><span class="line"><span class="keyword">PRIMARY</span> KEY(Sno,Cno),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(Sno) <span class="keyword">REFERENCES</span> Student(Sno),</span><br><span class="line"><span class="keyword">FOREIGN</span> KEY(Cno) <span class="keyword">REFERENCES</span> Course(Cno)</span><br><span class="line">)</span><br></pre></td></tr></table></figure>
<p><img src="https://img-blog.csdnimg.cn/2020112914320043.png" alt="在这里插入图片描述"></p>
<h3 id="5、修改基本表"><a href="#5、修改基本表" class="headerlink" title="5、修改基本表"></a>5、修改基本表</h3><p>在定义完表之后，我们还可能需要修改表的结构，修改表的方法如下：<br><img src="https://img-blog.csdnimg.cn/2020112914412058.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--在SC表中添加XKLB列--添加新列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> XKLB <span class="type">char</span>(<span class="number">4</span>)</span><br><span class="line"><span class="comment">--将XKLB的类型改为char(6)--修改列定义</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">COLUMN</span> XKLB <span class="type">char</span>(<span class="number">6</span>)</span><br><span class="line"><span class="comment">--删除Course表的Period列--删除列</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Course</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">COLUMN</span> <span class="keyword">Period</span></span><br></pre></td></tr></table></figure>
<p>约束添加：</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--添加主码约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> PK_SC <span class="keyword">PRIMARY</span> KEY(Sno)<span class="comment">--ADD CONSTRAINT 约束名 PRIMARY KEY(列名)</span></span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> PK_SC <span class="keyword">PRIMARY</span> KEY(Sno,Cno)<span class="comment">--表级约束</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加唯一性约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Course</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> UK_C <span class="keyword">UNIQUE</span>(Cno)<span class="comment">--ADD CONSTRAINT 约束名 UNIQUE(列名[,列名1,列名2···])</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加外键约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> FK_SC <span class="keyword">FOREIGN</span> KEY(Sno) <span class="keyword">REFERENCES</span> Student(Sno)<span class="comment">--ADD CONSTRAINT 约束名FOREIGN KEY(列名) REFERENCES 引用表名(列名)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加默认值约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> SC</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> DF_SC <span class="keyword">DEFAULT</span> <span class="number">1</span> <span class="keyword">FOR</span> Grade<span class="comment">--ADD CONSTRAINT 约束名 DEFAULT 默认值 FOR 列名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">--添加检查约束</span></span><br><span class="line"><span class="keyword">ALTER</span> <span class="keyword">TABLE</span> Student</span><br><span class="line"><span class="keyword">ADD</span> <span class="keyword">CONSTRAINT</span> CK_S <span class="keyword">CHECK</span>(Sage<span class="operator">&gt;</span><span class="number">15</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;</span><span class="number">45</span>)<span class="comment">--ADD CONSTRAINT 约束名 CHECK(约束表达式)</span></span><br></pre></td></tr></table></figure>
<h3 id="6、删除基本表"><a href="#6、删除基本表" class="headerlink" title="6、删除基本表"></a>6、删除基本表</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> 表<span class="number">1</span>[,表<span class="number">2</span>,表<span class="number">3</span>]</span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> Student</span><br></pre></td></tr></table></figure>
<h2 id="三、SQL数据操纵"><a href="#三、SQL数据操纵" class="headerlink" title="三、SQL数据操纵"></a>三、SQL数据操纵</h2><h3 id="1、数据查询"><a href="#1、数据查询" class="headerlink" title="1、数据查询"></a>1、数据查询</h3><p>查询语句是数据库使用中最基本和最重要的语句之一，其功能是从数据中检索满足条件的数据。<br>数据来源可以是一张表、多张表或者视图。<br>查询结果是关系。<br>语句格式：<br><img src="https://img-blog.csdnimg.cn/20201129155730737.png" alt="在这里插入图片描述"></p>
<h4 id="1-简单查询"><a href="#1-简单查询" class="headerlink" title="1)简单查询"></a>1)简单查询</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--查询指定列</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno,Sname <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="comment">--查询所有列</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="comment">--查询经过计算的列</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,<span class="number">2020</span><span class="operator">-</span>Sage <span class="keyword">FROM</span> Student<span class="comment">--第二列列名为空</span></span><br></pre></td></tr></table></figure>
<h4 id="2-改变列标题"><a href="#2-改变列标题" class="headerlink" title="2)改变列标题"></a>2)改变列标题</h4><p>①：<code>列名 | 表达式 [AS] 列别名</code><br>②：<code>列别名 = 列名 | 表达式</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname 姓名,<span class="number">2020</span><span class="operator">-</span>Sage <span class="keyword">AS</span> 出身年份 <span class="keyword">FROM</span> Student</span><br></pre></td></tr></table></figure>

<h4 id="3-选择表中若干行"><a href="#3-选择表中若干行" class="headerlink" title="3)选择表中若干行"></a>3)选择表中若干行</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="comment">--等价于</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">ALL</span> Sno <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="comment">--在SELECT中缺省则为ALL</span></span><br><span class="line"><span class="comment">--DISTINCT关键字可以去重</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">DISTINCT</span> Sno <span class="keyword">FROM</span> SC</span><br></pre></td></tr></table></figure>
<h4 id="4-WHERE用于查询满足条件的元组"><a href="#4-WHERE用于查询满足条件的元组" class="headerlink" title="4)WHERE用于查询满足条件的元组"></a>4)<code>WHERE</code>用于查询满足条件的元组</h4><p><img src="https://img-blog.csdnimg.cn/20201129160848518.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L0Nlc2FyZUJvcmdpYQ==,size_16,color_FFFFFF,t_70" alt="在这里插入图片描述"></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--比较</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname,Sage <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> <span class="keyword">NOT</span> Sage<span class="operator">&gt;=</span><span class="number">20</span></span><br><span class="line"><span class="comment">--范围</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&gt;=</span><span class="number">20</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;=</span><span class="number">23</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage <span class="keyword">NOT</span> <span class="keyword">BETWEEN</span> <span class="number">20</span> <span class="keyword">AND</span> <span class="number">23</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sage<span class="operator">&lt;</span><span class="number">20</span> <span class="keyword">OR</span> Sage<span class="operator">&gt;</span><span class="number">23</span></span><br><span class="line"><span class="comment">--集合</span></span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept <span class="keyword">IN</span>(<span class="string">&#x27;IS&#x27;</span>,<span class="string">&#x27;MA&#x27;</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept <span class="keyword">NOT</span> <span class="keyword">IN</span>(<span class="string">&#x27;IS&#x27;</span>,<span class="string">&#x27;MA&#x27;</span>,<span class="string">&#x27;CS&#x27;</span>)</span><br></pre></td></tr></table></figure>
<h4 id="5-字符串匹配"><a href="#5-字符串匹配" class="headerlink" title="5)字符串匹配"></a>5)字符串匹配</h4><p>在字符匹配中有四种通配符：<br><code>_</code>：匹配任意一个字符<br><code>%</code>：匹配0个或多个字符<br><code>[]</code>：匹配<code>[]</code>中的任意一个字符<br><code>[^]</code>：不匹配<code>[]</code>中的任意一个字符</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;200215121&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;王%&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sname <span class="keyword">LIKE</span> <span class="string">&#x27;[张刘李]%&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">LIKE</span> <span class="string">&#x27;%[^235]&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sno <span class="keyword">NOT</span> <span class="keyword">LIKE</span> <span class="string">&#x27;%[235]&#x27;</span></span><br></pre></td></tr></table></figure>
<h4 id="6-涉及空值的查询"><a href="#6-涉及空值的查询" class="headerlink" title="6)涉及空值的查询"></a>6)涉及空值的查询</h4><p>空值(<code>NULL</code>)在数据库中有特殊的含义，代表不确定的值<br>判断某个值是否为<code>NULL</code>，只能用专门的判断<code>NULL</code>值的子句来完成<code>IS NULL</code>、<code>IS NOT NULL</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Grade <span class="keyword">IS</span> <span class="keyword">NULL</span></span><br><span class="line"><span class="keyword">SELECT</span> Sno <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Grade <span class="keyword">IS</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span></span><br></pre></td></tr></table></figure>
<h4 id="7-多重条件查询"><a href="#7-多重条件查询" class="headerlink" title="7)多重条件查询"></a>7)多重条件查询</h4><p>运用<code>AND</code>和<code>OR</code>俩简介查询多个查询条件<br>其中<code>AND</code>的优先级高于<code>OR</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sname <span class="keyword">FROM</span> Student <span class="keyword">WHERE</span> Sdept<span class="operator">=</span><span class="string">&#x27;IS&#x27;</span> <span class="keyword">AND</span> Sage<span class="operator">&lt;</span><span class="number">20</span></span><br></pre></td></tr></table></figure>
<h4 id="8-ORDER-BY"><a href="#8-ORDER-BY" class="headerlink" title="8)ORDER BY"></a>8)<code>ORDER BY</code></h4><p><code>ORDER BY &lt;列名&gt; [ASC | DESC][,&lt;列名&gt;···]</code><br>可以按一个或多个属性列排序<br><code>ASC</code>：升序、<code>DESC</code>降序、缺省值为升序<br>当排序列含空值时：<br><code>ASC</code>：排序列为空值的元组最先显示<br><code>DESC</code>：排序列为空值的元组最后显示</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Sno,Grade <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;3&#x27;</span> <span class="keyword">ORDER</span> <span class="keyword">BY</span> Grade <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>
<h4 id="9-TOP限制结果集"><a href="#9-TOP限制结果集" class="headerlink" title="9)TOP限制结果集"></a>9)TOP限制结果集</h4><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> TOP <span class="number">3</span> Sname,Sage,Sdept <span class="keyword">FROM</span> Student <span class="keyword">ORDER</span> <span class="keyword">BY</span> Sage <span class="keyword">DESC</span></span><br></pre></td></tr></table></figure>
<h4 id="10-聚集函数"><a href="#10-聚集函数" class="headerlink" title="10)聚集函数"></a>10)聚集函数</h4><p>聚集函数也称为集合函数或聚合函数、计算函数，其作用是对一组值进行计算并返回一个单值。SQL提供的聚合函数有：<br><code>COUNT(*)</code>：统计表中元组个数<br><code>COUNT(&lt;列名&gt;)</code>：统计本列列值个数<br><code>SUM(&lt;列名&gt;)</code>：计算列值综合<br><code>AVG(&lt;列名&gt;)</code>：计算列值平均值<br><code>MAX(&lt;列名&gt;)</code>：求列值最大值<br><code>MIN(&lt;列名&gt;)</code>：求列值最小值<br>除<code>COUNT(*)</code>外，其他函数在计算过程中均忽略<code>NULL</code>值</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(<span class="operator">*</span>) 总人数 <span class="keyword">FROM</span> Student</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">COUNT</span>(Sno) 选课人数 <span class="keyword">FROM</span> SC</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">SUM</span>(Grade) 总成绩 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Sno<span class="operator">=</span><span class="string">&#x27;95122&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">AVG</span>(Grade) 平均成绩 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MAX</span>(Grade) 最高分 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">MIN</span>(Grade) 最低分 <span class="keyword">FROM</span> SC <span class="keyword">WHERE</span> Cno<span class="operator">=</span><span class="string">&#x27;C01&#x27;</span></span><br></pre></td></tr></table></figure>
<p><font color=red>聚合函数不能出现在WHERE子句中</font></p>
<h4 id="11-GROUP-BY"><a href="#11-GROUP-BY" class="headerlink" title="11)GROUP BY"></a>11)<code>GROUP BY</code></h4><p><code>GROUP BY</code>可将计算控制在组一级，分组的目的是细化计算函数的作用对象<br>分组语句位置在<code>WHERE</code>子句的后边，一般形式为：<br><code>GROUP BY &lt;分组依据列&gt;</code><br><code>[HAVING &lt;组过滤条件&gt;]</code></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> Cno 课程号,<span class="built_in">COUNT</span>(Sno) 选课人数 <span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Cno</span><br><span class="line"><span class="keyword">SELECT</span> Sno 学号,<span class="built_in">COUNT</span>(Cno) 选课门数,<span class="built_in">AVG</span>(Grade) 平均成绩 </span><br><span class="line"><span class="keyword">FROM</span> SC <span class="keyword">GROUP</span> <span class="keyword">BY</span> Sno</span><br></pre></td></tr></table></figure>

<p><font size=6 color=blue>暂时只学到了这里，之后再更新o(╥﹏╥)o</font></p>
<h4 id="12-其他"><a href="#12-其他" class="headerlink" title="12)其他"></a>12)其他</h4><h3 id="2、数据更改"><a href="#2、数据更改" class="headerlink" title="2、数据更改"></a>2、数据更改</h3><h2 id="四、SQL数据控制"><a href="#四、SQL数据控制" class="headerlink" title="四、SQL数据控制"></a>四、SQL数据控制</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://a-egoist.com/posts/4c74c080/" data-id="ckw68jflk000nbgid0d66enrk" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/posts/fc45aa12/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          SQL Sever 学习笔记——图形化创建数据库
        
      </div>
    </a>
  
  
    <a href="/posts/f43198be/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">LaTex入门笔记</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/ACM/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/DeepLearning/">DeepLearning</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Hello/">Hello</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Log/">Log</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Parallel-Computing/">Parallel Computing</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Python/">Python</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/Python/%E7%88%AC%E8%99%AB/">爬虫</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/STL/">STL</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/STL/C/">C++</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/">刷题记录</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/ACM/">ACM</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/ACM/%E7%AE%97%E6%B3%95/">算法</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/">学习笔记</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/SQL/">SQL</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%88%AC%E8%99%AB/">爬虫</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/%E7%88%AC%E8%99%AB/Python/">Python</a></li></ul></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E5%8F%8A%E7%AE%97%E6%B3%95/">数据结构及算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%95%B0%E8%AE%BA/">数论</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/">深度学习</a><ul class="category-list-child"><li class="category-list-item"><a class="category-list-link" href="/categories/%E6%B7%B1%E5%BA%A6%E5%AD%A6%E4%B9%A0/TensorFlow/">TensorFlow</a></li></ul></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E7%AE%97%E6%B3%95/">算法</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/%E9%80%92%E6%8E%A8/">递推</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/BFS/" rel="tag">BFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BeautifulSoup%E5%BA%93/" rel="tag">BeautifulSoup库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CNN/" rel="tag">CNN</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/CUDA/" rel="tag">CUDA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DFS/" rel="tag">DFS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LaTex/" rel="tag">LaTex</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MNIST/" rel="tag">MNIST</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/String/" rel="tag">String</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/attention/" rel="tag">attention</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hdu/" rel="tag">hdu</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/random%E5%BA%93/" rel="tag">random库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/requests%E5%BA%93/" rel="tag">requests库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/time%E5%BA%93/" rel="tag">time库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/transformer/" rel="tag">transformer</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wordcloud%E5%BA%93/" rel="tag">wordcloud库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BA%8C%E5%88%86/" rel="tag">二分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%BB%8B%E7%BB%8D/" rel="tag">介绍</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" rel="tag">前缀和</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%8D%9A%E5%BC%88/" rel="tag">博弈</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9B%BE%E5%BD%A2%E5%BA%93/" rel="tag">图形库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%83%E6%B0%8F%E7%AD%9B%E6%B3%95/" rel="tag">埃氏筛法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%9F%BA%E7%A1%80/" rel="tag">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%AE%E5%88%86/" rel="tag">差分</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%80%9D%E7%BB%B4/" rel="tag">思维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E8%AE%BA/" rel="tag">数论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%97%A5%E5%BF%97/" rel="tag">日志</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%A0%91/" rel="tag">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%AC%A7%E6%8B%89%E7%AD%9B%E6%B3%95/" rel="tag">欧拉筛法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%B5%8B%E8%AF%95/" rel="tag">测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%AC%94%E8%AE%B0/" rel="tag">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%AE%A1%E5%88%92/" rel="tag">计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%B4%AA%E5%BF%83/" rel="tag">贪心</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E9%94%99%E6%8E%92%E5%85%AC%E5%BC%8F/" rel="tag">错排公式</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/BFS/" style="font-size: 10px;">BFS</a> <a href="/tags/BeautifulSoup%E5%BA%93/" style="font-size: 10px;">BeautifulSoup库</a> <a href="/tags/CNN/" style="font-size: 10px;">CNN</a> <a href="/tags/CUDA/" style="font-size: 10px;">CUDA</a> <a href="/tags/DFS/" style="font-size: 10px;">DFS</a> <a href="/tags/LaTex/" style="font-size: 10px;">LaTex</a> <a href="/tags/MNIST/" style="font-size: 10px;">MNIST</a> <a href="/tags/String/" style="font-size: 10px;">String</a> <a href="/tags/attention/" style="font-size: 10px;">attention</a> <a href="/tags/hdu/" style="font-size: 10px;">hdu</a> <a href="/tags/random%E5%BA%93/" style="font-size: 10px;">random库</a> <a href="/tags/requests%E5%BA%93/" style="font-size: 10px;">requests库</a> <a href="/tags/time%E5%BA%93/" style="font-size: 10px;">time库</a> <a href="/tags/transformer/" style="font-size: 10px;">transformer</a> <a href="/tags/wordcloud%E5%BA%93/" style="font-size: 10px;">wordcloud库</a> <a href="/tags/%E4%BA%8C%E5%88%86/" style="font-size: 10px;">二分</a> <a href="/tags/%E4%BB%8B%E7%BB%8D/" style="font-size: 10px;">介绍</a> <a href="/tags/%E5%89%8D%E7%BC%80%E5%92%8C/" style="font-size: 12.5px;">前缀和</a> <a href="/tags/%E5%8D%9A%E5%BC%88/" style="font-size: 10px;">博弈</a> <a href="/tags/%E5%9B%BE%E5%BD%A2%E5%BA%93/" style="font-size: 10px;">图形库</a> <a href="/tags/%E5%9F%83%E6%B0%8F%E7%AD%9B%E6%B3%95/" style="font-size: 10px;">埃氏筛法</a> <a href="/tags/%E5%9F%BA%E7%A1%80/" style="font-size: 17.5px;">基础</a> <a href="/tags/%E5%AE%9E%E8%B7%B5/" style="font-size: 15px;">实践</a> <a href="/tags/%E5%B7%AE%E5%88%86/" style="font-size: 10px;">差分</a> <a href="/tags/%E6%80%9D%E7%BB%B4/" style="font-size: 10px;">思维</a> <a href="/tags/%E6%95%B0%E8%AE%BA/" style="font-size: 10px;">数论</a> <a href="/tags/%E6%97%A5%E5%BF%97/" style="font-size: 10px;">日志</a> <a href="/tags/%E6%A0%91/" style="font-size: 10px;">树</a> <a href="/tags/%E6%AC%A7%E6%8B%89%E7%AD%9B%E6%B3%95/" style="font-size: 10px;">欧拉筛法</a> <a href="/tags/%E6%B5%8B%E8%AF%95/" style="font-size: 10px;">测试</a> <a href="/tags/%E7%AC%94%E8%AE%B0/" style="font-size: 20px;">笔记</a> <a href="/tags/%E8%AE%A1%E5%88%92/" style="font-size: 10px;">计划</a> <a href="/tags/%E8%B4%AA%E5%BF%83/" style="font-size: 10px;">贪心</a> <a href="/tags/%E9%94%99%E6%8E%92%E5%85%AC%E5%BC%8F/" style="font-size: 10px;">错排公式</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">十一月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">六月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">四月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">三月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">二月 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">一月 2020</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/posts/b68f41a0/">算法竞赛进阶指南学习笔记</a>
          </li>
        
          <li>
            <a href="/posts/374e1302/">数学知识</a>
          </li>
        
          <li>
            <a href="/posts/43934f6d/">搜索</a>
          </li>
        
          <li>
            <a href="/posts/b8859ab5/">二维前缀和</a>
          </li>
        
          <li>
            <a href="/posts/fc45aa12/">SQL Sever 学习笔记——图形化创建数据库</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 Amonologue<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/script.js"></script>




  </div>
</body>
</html>